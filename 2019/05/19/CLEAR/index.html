<!DOCTYPE html>
<html lang="zh-CN">

  
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <meta name="author" content="è‘£æ²…é‘«, yuanxin.me@gmail.com">
  
  
  
  <title>é˜…è¯»ç¬”è®°-Evaluation Multiple Object Tracking Performance-The CLEAR MOT Metrics | YixiaoZhou&#39;s blog</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="MOT,CLEAR,Metric,">
  

  <script>
    console.log('\n%c Hexo-theme-bmw v4.0 ' + '%c ğŸ‰ https://github.com/dongyuanxin/theme-bmw ğŸ‰\n' + '\n%c View demo online ' + '%c ğŸ” https://godbmw.com/ ğŸ”  \n' , 'color: #fadfa3; background: #030307; padding:3px 0;', '', 'color: #fadfa3; background: #030307; padding:3px 0;', '');
  </script>

  
    <meta name="description" content="æµ·é˜”å…¨æ˜¯æµªï¼Œå¤©é«˜çš†æ˜¯éœ¾ã€‚">
  

  

  
    <link rel="icon" href="/images/fvatar2.png">
    <link rel="apple-touch-icon" href="/images/touch-icon.png">
  

  <link href="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="/icon/iconfont.css">
<link rel="stylesheet" href="/css/github-markdown.css">
<link rel="stylesheet" href="/css/highlight.css">

  <script src="/js/util.js"></script>
<script src="/js/valine.min.js"></script>

  

  
    <link href="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.js" async></script>
  

  
    <link href="https://cdn.bootcss.com/social-share.js/1.0.16/css/share.min.css" rel="stylesheet">
  
  
  <script src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js" async></script>
  
  
    <script src="//cdn.jsdelivr.net/npm/leancloud-storage@3.11.0/dist/av-min.js"></script>
  

</head>

  <body>

    

    <div id="app">

      <div class="header-wrap">
  <header>
    <div class="site-brand">
      <div class="site-title">
        <a href="/">YiXiaoZhou</a>
      </div>
    </div>
    <nav class="site-navigation">
      <ul class="nav-menu">
      
        <li class="nav-item" data-path="/">
          
            <a href="/" target="_self">
              ä¸»é¡µ
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/archives/">
          
            <a href="/archives/" target="_self">
              å½’æ¡£
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/tags/">
          
            <a href="/tags/" target="_self">
              å­¦æœ¯ä¸»é¡µ
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/friends/">
          
            <a href="/friends/" target="_self">
              å‹é“¾
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/about/">
          
            <a href="/about/" target="_self">
              å…³äº
            </a>
          
        </li>
      
        <li class="nav-item" data-path>
          
            <a href="javascript:void(0);" v-else>æŠ“åˆ°æˆ‘</a>
            <ul class="nav-menu--dropdown">
              
                <li>
                  <a href="https://github.com/ZongweiZhou1" target="_blank">
                    Github
                  </a>
                </li>
              
                <li>
                  <a href="https://www.facebook.com/duncon.chou" target="_blank">
                    Facebook
                  </a>
                </li>
              
                <li>
                  <a href="https://weibo.com/u/3231820650/home?wvr=5" target="_self">
                    weibo
                  </a>
                </li>
              
            </ul>
          
        </li>
      
      </ul>
    </nav>
    <i class="iconfont icon-menu"></i>
  </header>
</div>

<script>
  let links = document.querySelectorAll('.nav-item');
  for(let link of links){
    let childrenLink = link.querySelector('ul');
    link.addEventListener('mouseenter', () => {
      if(childrenLink) {
        childrenLink.className = "nav-menu--dropdown active";
      }
    })
    link.addEventListener('mouseleave', () => {
      if(childrenLink) {
        childrenLink.className = "nav-menu--dropdown";
      }
    })
  }
  let rootRealPath = getRealPath(window.location.pathname, true);
  for(let link of links) {
    let linkPath = link.getAttribute("data-path");
    if(linkPath && getRealPath(linkPath, true) === rootRealPath) {
      link.className = "nav-item hover";
    }
  }

  let iconMenu = document.querySelector("i.iconfont.icon-menu"),
    iconMenuClicked = false;
  let navDOM = document.querySelector("nav.site-navigation");
  iconMenu.addEventListener("click", () => {
    iconMenuClicked 
      ? navDOM.className = "site-navigation active"
      : navDOM.className = "site-navigation";
    iconMenuClicked = !iconMenuClicked;
  })
</script>

      








<div class="container post-index">

  

<div class="post">
  <h1 class="article-title">
    <span>é˜…è¯»ç¬”è®°-Evaluation Multiple Object Tracking Performance-The CLEAR MOT Metrics</span>
  </h1>
  <div class="article-top-meta">
    <span>
      å‘å¸ƒ : 
      2019-05-19
    </span>
    
    
      <span>
        æµè§ˆ : <span class="article-timer" data-identity="CLEAR"></span>
      </span>
    
  </div>

  

  <div class="article-content">
    <div class="markdown-body">
      <h3 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h3><p>åŸå‘è¡¨äº<a href="https://www.cnblogs.com/YiXiaoZhou/p/5937980.html" target="_blank" rel="noopener">CLEAR</a>ï¼Œ å‚è€ƒä¹‹å‰ç¬”è®°<a href="https://zongweizhou1.github.io/2019/05/17/MOT16-A-Benchmark-for-Multi-Object-Tracking/" target="_blank" rel="noopener">MOT16</a></p>
<p>å¤šç›®æ ‡è·Ÿè¸ªé—®é¢˜çš„è¯„ä»·æŒ‡æ ‡åº”è¯¥èƒ½å¤Ÿè¯„ä¼°ä¸‰ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>ç›®æ ‡æ˜¯å¦éƒ½åŠæ—¶çš„æ‰¾åˆ°ã€‚</li>
<li>ç›®æ ‡è·Ÿè¸ªåˆ°çš„ä½ç½®å’ŒçœŸå®ä½ç½®ä¸€è‡´æ€§ç¨‹åº¦ã€‚</li>
<li>æ˜¯å¦èƒ½å¤Ÿä¿æŒè·Ÿè¸ªçš„ä¸€è‡´æ€§ã€‚</li>
</ul>
<p>å¦å¤–ä½œä¸ºmetricçš„è¿˜éœ€è¦å…·æœ‰çš„åŸºæœ¬ç‰¹ç‚¹ï¼š</p>
<ul>
<li>å‚æ•°ï¼ˆå¯è°ƒèŠ‚çš„é˜ˆå€¼ç­‰ï¼‰éœ€è¦å°½å¯èƒ½çš„å°‘ï¼Œä»è€Œä½¿è¯„ä¼°ç®€å•ç›´æ¥ï¼Œæ–¹æ³•å¯¹æ¯”æ€§è¾ƒå¼ºã€‚</li>
<li>å°½å¯èƒ½ç›´è§‚ï¼Œæ˜“è§£é‡Šã€‚</li>
<li>åº”è¯¥å…·æœ‰è¾ƒå¥½çš„æ™®é€‚æ€§ï¼Œæ¯”å¦‚é€‚åº”2Då’Œ3Dçš„æƒ…å†µã€‚</li>
<li>æŒ‡æ ‡ä¸ªæ•°å°½å¯èƒ½å°‘ï¼Œæ¯ä¸ªæŒ‡æ ‡éƒ½å…·æœ‰è¾ƒé«˜è¡¨è¾¾èƒ½åŠ›ã€‚</li>
</ul>
<p>äºæ˜¯æœ¬æ–‡æå‡ºäº†CLEARè¯„ä¼°æŒ‡æ ‡ç³»ç»Ÿï¼Œç”¨äºè¯„ä¼°MOTæ–¹æ³•</p>
<h3 id="CLEAR"><a href="#CLEAR" class="headerlink" title="CLEAR"></a>CLEAR</h3><p>å‡è®¾æ¯ä¸€å¸§ä¸­ç›®æ ‡ä¸º$\{o_1, o_2, â€¦, o_n\}$, è·Ÿè¸ªå‡è®¾ä¸º$\{h_1, h_2, â€¦, h_m\}$, æ£€æµ‹ç»“æœä¸º$\{d_1, d_2, â€¦d_k\}$ã€‚è·Ÿè¸ªå‡è®¾å’Œæ£€æµ‹ä¸åŒï¼Œè·Ÿè¸ªå‡è®¾æ˜¯ç®—æ³•è·Ÿè¸ªå‡ºæ¥çš„ç»“æœã€‚äºæ˜¯è¯„ä»·è¿‡ç¨‹æœ‰ä»¥ä¸‹åŸºæœ¬æ­¥éª¤ï¼š</p>
<ol>
<li>å»ºç«‹å‡è®¾å’Œç›®æ ‡ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚</li>
<li>å¯¹æ‰€æœ‰çš„å¯¹åº”å…³è”å…³ç³»ï¼Œè®¡ç®—ä½ç½®åå·®ï¼Œå³ä¸€è‡´æ€§ç¨‹åº¦ï¼›</li>
<li>è®¡ç®—è·Ÿè¸ªçš„ç´¯ç§¯ç»“æ„è¯¯å·®ï¼š<ul>
<li>è®¡ç®—æ¼æ£€æ•° FN</li>
<li>è®¡ç®—è™šè­¦æ•° FP</li>
<li>è®¡ç®—å‘ç”Ÿè·³å˜æ•° IDs</li>
</ul>
</li>
</ol>
<p><strong>å®ç°è¿‡ç¨‹</strong></p>
<ol>
<li><p>ç¡®å®šä¾èµ–å…³ç³»ã€‚é€šè¿‡å‡è®¾ä¸ç›®æ ‡ä¹‹é—´çš„è·ç¦»åˆ¤æ–­æ˜¯å¦å…³è”ï¼Œæ¯”å¦‚é€‰æ‹©IOUä½œä¸ºç›¸ä¼¼åº¦æŒ‡æ ‡ï¼Œç„¶åç»™å®šé˜ˆå€¼$\tau$ï¼Œ é‡‡ç”¨åŒˆç‰™åˆ©ç®—æ³•å¯¹åŒ¹é…è¿›è¡Œå…³è”ï¼Œä¹‹åå°†è¶…å‡ºé˜ˆå€¼çš„å…³è”å‰”é™¤ï¼Œå‰©ä¸‹çš„å°±æ˜¯æœ€ç»ˆçš„ä¾èµ–å…³ç³»ã€‚å¦‚ä¸‹å›¾</p>
<p><img src="/2019/05/19/CLEAR/clear_corresponding.png" alt="corresponds"></p>
<p>æ³¨æ„MOTä¸­è¿™ä¸ªåŒ¹é…è¿˜ä¸å®Œå…¨æ˜¯è¿™æ ·çš„ï¼ŒMOTæ›´æ³¨é‡ä¸€è‡´æ€§ï¼Œæ‰€ä»¥å‡è®¾ç¬¬$t$å¸§æœ‰å…³è”$o_i, h_j$ , ç¬¬$t+1$å¸§å…³è”$(o_i, h_k) &lt; (o_i, h_j)&lt;\tau$è¿™æ—¶å€™ä¾ç„¶é€‰æ‹©$(o_i, h_j)$. å¦‚ä¸‹å›¾åœ¨$t+2$æ—¶åˆ»ï¼Œè™½ç„¶$(o_1, h_2)$æ›´åŒ¹é…ï¼Œä½†æ˜¯ä¸ºäº†è¿è´¯æ€§ï¼Œä¾ç„¶é€‰æ‹©åŒ¹é…$(o_1, h_1)$</p>
</li>
</ol>
<p>   <img src="/2019/05/19/CLEAR/IDKeep.png" alt="IDKeep"></p>
<ol>
<li><p>ä¸€è‡´æ€§åˆ»ç”»ã€‚è¿½è¸ªä¸€è‡´æ€§èƒ½åŠ›å°±æ˜¯æŒ‡è¿½è¸ªå™¨ä½¿è¿½è¸ªå‡è®¾å’Œå¯¹åº”ç›®æ ‡é•¿æ—¶é—´ä¿æŒå¯¹åº”å…³ç³»ä¸å˜çš„èƒ½åŠ›ã€‚</p>
<p>ä¸€è‡´æ€§åº¦é‡æœ‰ä¸¤ç§æ–¹å¼å¯é€‰ã€‚ç¬¬ä¸€ç§æ˜¯é€‰æ‹©çœŸå®è½¨è¿¹çš„ä¸€æ¡æœ€ä¼˜åŒ¹é…è·Ÿè¸ªç»“æœï¼Œç„¶åå…¶ä»–çš„åŒ¹é…éƒ½è®¤ä¸ºæ˜¯é”™è¯¯åŒ¹é…ï¼Œè®°ä¸ºIDsï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src="/2019/05/19/CLEAR/IDS.png" alt="IDS"></p>
<p>case1ä¸­è®¤ä¸ºçº¢è‰²çš„æ˜¯æˆåŠŸåŒ¹é…è½¨è¿¹ï¼Œäºæ˜¯é”™è¯¯æ•°ä¸º2ï¼ŒåŒç†case2ä¸­é”™è¯¯æ•°ä¸º4.</p>
<p>ä½†æ˜¯è¿™ç§æ–¹å¼æœ‰æ—¶å€™ä¸ç¬¦åˆå¸¸ç†ï¼Œæˆ‘ä»¬æ›´åº”è¯¥å…³æ³¨çš„IDå‘ç”Ÿè½¬å˜çš„é‚£ä¸€åˆ»ï¼Œè€Œä¸æ˜¯è·³å˜åå¸¦æ¥çš„å½±å“ã€‚æ¯”å¦‚case2ä¸­ï¼Œä¸¤ä¸ªè·Ÿè¸ªè½¨è¿¹éƒ½æŒºé•¿ï¼Œé‡‡ç”¨ä¸Šä¸€ç§æ–¹å¼å°±ä¸åˆç†ã€‚ æ‰€ä»¥æ–‡ç« é‡‡ç”¨äº†ç¬¬äºŒç§æ–¹å¼ï¼Œå³åªç»Ÿè®¡è·³å˜çš„æ¬¡æ•°ã€‚å…·ä½“è€Œè¨€ï¼ŒæŸä¸€æ—¶åˆ»çš„tidä¸ä¹‹å‰æœ€è¿‘çš„tidä¸åŒåˆ™è®¤ä¸ºå‘ç”Ÿäº†è·³å˜ã€‚</p>
</li>
<li><p>æŒ‡æ ‡è®¡ç®—è¿‡ç¨‹</p>
<ul>
<li><p>è®¡ç®—ç¬¬$t$å¸§ä¸­ï¼Œ $t-1$æ—¶åˆ»å­˜åœ¨çš„å…³è”$(o_i, h_i)$å…³è”æ˜¯å¦ä¾ç„¶æœ‰æ•ˆã€‚</p>
</li>
<li><p>å¯¹äºä¸å†æœ‰æ•ˆçš„å…³è”ï¼Œåœ¨æ–°çš„å‡è®¾ä¸­å¯»æ‰¾æœ€æœ‰åŒ¹é…ï¼Œæ­¤æ—¶é€‰æ‹©çš„ç­–ç•¥æ˜¯IOUæœ€å°ã€‚è¯¥è¿‡ç¨‹ä¸­å¯ä»¥ç»Ÿè®¡IDSå‘ç”Ÿçš„æ¬¡æ•°ï¼šè‹¥å‡ºç°æ–°çš„ $ (o_i, h_j)$ä¸åœ¨å†å²åŒ¹é…ä¸­ï¼Œåˆ™è®¤ä¸ºå‘ç”Ÿä¸€æ¬¡è·³å˜ï¼Œ å°†$(o_i, h_j)$æ›¿ä»£ä¹‹å‰çš„$(o_i, h_i)$, è¯¥æ—¶åˆ»çš„idsè®°ä¸º$mmr_t$ã€‚</p>
</li>
<li><p>æ‰¾åˆ°æ‰€æœ‰å¸§çš„å…³è”åï¼Œç»Ÿè®¡æ‰€æœ‰åŒ¹é…ä¸ªæ•°$c_t$, è®¡ç®—æ¯ä¸€ä¸ªåŒ¹é…çš„åŒ¹é…è·ç¦»$d_t^i$.</p>
</li>
<li><p>å‰©ä¸‹æœªåŒ¹é…çš„å‡è®¾å’Œç›®æ ‡åˆ†åˆ«è®°ä¸ºè™šè­¦å’Œæ¼æ£€$m_t, fp_t$, å¹¶ç”¨$g_t$è¡¨ç¤ºå½“å‰æ—¶åˆ»çœŸæ­£ç›®æ ‡çš„ä¸ªæ•°ã€‚</p>
</li>
<li><p>ä»èµ·å§‹å¸§é€å¸§è®¡ç®—ä¸Šè¿°å˜é‡ï¼Œæœ€ç»ˆç»Ÿè®¡ä¸‹é¢çš„æŒ‡æ ‡</p>
<script type="math/tex; mode=display">
MOTP = \frac{\sum_{i,t}d_t^i}{\sum_tc_t}</script><p>å³æ‰€æœ‰åŒ¹é…çš„å¹³å‡è·ç¦»ï¼Œè¯¥å€¼ä½¿ç”¨IOUæ—¶å–å€¼è¶Šå¤§è¶Šå¥½ï¼Œä¸€èˆ¬èŒƒå›´åœ¨$0.50\sim1$ä¹‹é—´ï¼Œå› ä¸º$IOU&gt;0.50$çš„æ‰è®¤ä¸ºæ˜¯æ­£ç¡®åŒ¹é…ã€‚</p>
<script type="math/tex; mode=display">
MOTA = 1-\frac{\sum_t(m_t+fp_t+mmr_t)}{\sum_tg_t}</script></li>
</ul>
</li>
</ol>
<pre><code> å…¶ä¸­$\frac{\sum_tm_t}{\sum_tg_T}, \frac{\sum_tfp_t}{\sum_tg_t}, \frac{\sum_tmmr_t}{\sum_tg_t}$åˆ†åˆ«è¡¨ç¤ºæ€»ä½“çš„æ¼æ£€ç‡ï¼Œè™šè­¦ç‡å’Œè·³å˜å‡ ç‡ã€‚ MOTAçš„å–å€¼èŒƒå›´åœ¨$(-\infty, 1)$ä¹‹é—´ï¼Œ è¶Šå¤§è¶Šå¥½ã€‚
</code></pre><p>   æ³¨æ„ï¼Œ MOTPï¼ŒMOTAéƒ½æ˜¯æ•´ä½“è¿‡ç¨‹çš„å‡å€¼ï¼Œè€Œä¸æ˜¯æ¯ä¸€å¸§å‡å€¼ä¹‹åçš„å¹³å‡å€¼ï¼Œä¸¤ä¸ªä¹‹é—´å·®åˆ«è¿˜æ˜¯æŒºå¤§çš„ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸€ä¸ª8å¸§çš„æ•°æ®ï¼Œå‰é¢4å¸§éƒ½è¢«æ¼æ£€ï¼Œç¬¬äº”å¸§å¼€å§‹åªæœ‰ç¬¬4ä¸ªç›®æ ‡åŒ¹é…æˆåŠŸï¼Œè¿™æ ·åŠ©é˜µè®¡ç®—æ¼æ£€ç‡çš„è¯ï¼Œ $(1 \times 4 + 0 \times 4)/8=0.5$, è€Œå¦‚æœç»Ÿè®¡æ•´ä¸ªè·Ÿè¸ªè¿‡ç¨‹åœ¨è®¡ç®—æ¼æ£€ç‡ä¸º$\frac{4\times 4}{20}=0.8$ã€‚ æ˜¾ç„¶é‡‡ç”¨æ•´ä½“è¿‡ç¨‹æ›´åˆé€‚ã€‚</p>
<hr>
<h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>è®ºæ–‡åœ¨CLEARs workshopsä¸Šä½¿ç”¨æå‡ºçš„ä¸¤ä¸ªmetricè¯„ä»·äº†ä¸åŒçš„track systemï¼Œå‘ç°</p>
<blockquote>
<p>the proposed metrics indeed reflect the strengths and weaknesses of the various used systems in an intuitive and meaningful way, allow for easy comparison of overall performance, and are applicable to a variety of scenarios.</p>
</blockquote>
    </div>
  </div>
  
    <div class="copy-right">
      <div class="markdown-body">
        <blockquote>
        
        
          æœ¬æ–‡ä½œè€… : zhouzongwei <br>
        
        åŸæ–‡é“¾æ¥ : <a href>http://yoursite.com/2019/05/19/CLEAR/</a><br>
        ç‰ˆæƒå£°æ˜ : æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
        </blockquote>
      </div>
    </div>
  
  
  
    <div class="social-share" style="margin-top: -2rem" data-wechat-qrcode-title="<p>å¾®ä¿¡æ‰«ä¸€æ‰«</p>" data-wechat-qrcode-helper="<p>å¾®ä¿¡å³ä¸Šè§’, æ‰«ä¸€æ‰«åˆ†äº«</p>" data-sites="qzone, qq, weibo, wechat, douban, google, facebook, twitter">
  <span style="color: #6b7487; font-size: 1.4rem;">åˆ†äº«åˆ°: </span>
</div>
<script src="https://cdn.bootcss.com/social-share.js/1.0.16/js/social-share.min.js" async></script>
  

  
    <div id="reward">
  
    <p id="reward-meta">çŸ¥è¯† & æƒ…æ€€ | èµæˆ–è€…ä¸èµï¼Œæˆ‘éƒ½åœ¨è¿™ï¼Œä¸å£°ä¸å“</p>
  
  <button id="reward-btn">
    
    <span>æ‰“èµ</span>
  </button>
  <div id="reward-qrcode">
    
      <div class="reward-qrcode--container">
        <img class="qrcode-img" src="/images/wechatimg.jpg" alt="å¾®ä¿¡æ‰«ä¸€æ‰«, ä»¥èµ„é¼“åŠ±">
        <p class="qrcode-meta">å¾®ä¿¡æ‰«ä¸€æ‰«, ä»¥èµ„é¼“åŠ±</p>
      </div>
    
      <div class="reward-qrcode--container">
        <img class="qrcode-img" src="/images/alipayimg.jpg" alt="æ”¯ä»˜å®æ‰«ä¸€æ‰«, å†æ¥å†å‰">
        <p class="qrcode-meta">æ”¯ä»˜å®æ‰«ä¸€æ‰«, å†æ¥å†å‰</p>
      </div>
    
  </div>

</div>

<script>
  (() => {
    let button = document.querySelector('#reward-btn'),
      qrcode = document.querySelector('#reward-qrcode'),
      display = false;
    
    button.addEventListener('click', () => {
      qrcode.style.display = display ? 'none' : 'block'
      display = !display
    }, false)
  })()
</script>
  

  <div class="article-footer">
    <div class="article-meta pull-left">
      <span>
        
          <i class="iconfont icon-06tags"></i>æ ‡ç­¾: 
          
          <span class="span--tag">
            <a href="/tags/MOT/">
              #MOT
            </a>
          </span>
          
          <span class="span--tag">
            <a href="/tags/CLEAR/">
              #CLEAR
            </a>
          </span>
          
          <span class="span--tag">
            <a href="/tags/Metric/">
              #Metric
            </a>
          </span>
          
        
      </span>
    </div>
    <div class="article-meta pull-right">
    </div>
  </div>
</div>


  <aside id="sidebar">
    <p id="sidebar-header"></p>
    <ol id="sidebar-toc"></ol>
  </aside>
  <script async>setTimeout(generateToc, 10);</script>


  <nav class="post-navigation">
    
      <div class="nav-pre">
        <i class="iconfont icon-prev"></i>
        ä¸Šä¸€ç¯‡:
        <a href="/2019/05/19/STRN/" target="_self">é˜…è¯»ç¬”è®°-Spatial-Temporal Relation Networks for Multi-Object Tracking</a>
      </div>
    
    
      <div class="nav-next">
        ä¸‹ä¸€ç¯‡:
        <a href="/2019/05/20/MOT-overview-2nd/" target="_self">å¤šç›®æ ‡è·Ÿè¸ªæ€»ç»“(ä¸­)-æ·±åº¦æ–¹æ³•</a>
        <i class="iconfont icon-next"></i>
      </div>
    
  </nav>

  
    <a href="#comment" class="comment-anchor"></a>
<div class="comment-title"><i class="iconfont icon-footprint"></i> ç•™ä¸‹è¶³è¿¹ <i class="iconfont icon-footprint"></i></div>
<div id="vcomments"></div>

<script defer>
  if( true ) {
    let path = getRealPath()
    new Valine({
      el: "#vcomments",
      appId: "oGELcUvlMiFClUUpxn7V3qUo-gzGzoHsz",
      appKey: "fWABYGLTAoV1LT4LYzh1PNmQ",
      notify: false,
      verify: false,
      avatar: "robohash",
      placeholder: "æ­£ç¡®å¡«å†™é‚®ç®±, æ‰èƒ½åŠæ—¶æ”¶åˆ°å›å¤å“¦â™ª(^âˆ‡^*)",
      path
    });
  }
</script>
   

  
    <script defer>
const valineAPI = (() => {
  try {
    AV.init("oGELcUvlMiFClUUpxn7V3qUo-gzGzoHsz", "fWABYGLTAoV1LT4LYzh1PNmQ");
  } catch(error) {}
  const isExist = (identity) => {
    identity = identity || getRealPath();
    let query = new AV.Query('Timer');
    return new Promise((resolve, reject) => {
      query.equalTo("identity", identity);
      query.find().then(results => {
        resolve(results.length > 0);
      }, error => reject(error));
    })
  }

  const _get = (identity) => {
    let query = null;
    if(identity && identity instanceof Array){
      let querys = [];
      for(let i = 0; i < identity.length; ++i) {
        querys[i] = new AV.Query('Timer');
        querys[i].equalTo('identity', identity[i]);
      }
      query = AV.Query.or.apply(null ,querys);
    } else {
      identity = identity || getRealPath();
      query = new AV.Query("Timer");
      query.equalTo("identity", identity);
    }

    return new Promise((resolve, reject) => {
      query.find()
      .then(results => resolve(results))
      .catch(error => reject(error))
    })
  }

  const create = (identity) => {
    identity = identity || getRealPath();
    return new Promise((resolve, reject) => {
      let Todo = AV.Object.extend('Timer');
      let todo = new Todo();
      todo.set("times", 1);
      todo.set("identity", identity);
      todo.save().then(res => resolve(true), error => reject(error));
    })
  }

  const update = (identity) => {
    identity = identity || getRealPath();
    return new Promise((resolve, reject) => {
      let query = new AV.Query('Timer');
      query.equalTo("identity", identity);
      query.find().then(todos => {
        todos.forEach(todo => {
          todo.set("times", todo.attributes.times + 1);
        });
        return AV.Object.saveAll(todos);
      }).then(todos => resolve(true), error => reject(error));
    })
  }

  return {
    isExist,
    _get,
    update,
    create
  }
})()

const calcAndWriteTimes = () => {
  let isPost = true;

  let timerAllDOM = document.querySelectorAll(".article-timer");

  if(isPost) {
    let identity = timerAllDOM[0].getAttribute("data-identity");
    valineAPI.isExist(identity)
    .then(exist => {
      if(exist) {
        return valineAPI.update(identity);
      }
      return new Promise(resolve => resolve(true));
    })
    .then( succuess => valineAPI._get(identity))
    .then( result => timerAllDOM[0].innerText = result[0].attributes.times)
    .catch(error => console.log(error.message))
    return ;
  }

  let timerDOMCache = {};

  for(let timerDOM of timerAllDOM) {
    let identity = timerDOM.getAttribute("data-identity");
    if(timerDOMCache.hasOwnProperty(identity)){
      timerDOMCache[identity].dom.push(timerDOM);
    }else{
      timerDOMCache[identity] = {
        dom: [timerDOM],
        times: undefined
      };
    }
  }

  let identities = Object.keys(timerDOMCache);
  valineAPI._get(identities).then(results => {
    for(let result of results) {
      let {identity, times} = result.attributes;
      timerDOMCache[identity].times = times;
      timerDOMCache[identity].dom.map(item => item.innerText = times);
    }
    for(let identity of identities) {
      if(timerDOMCache[identity].times){
        continue;
      }
      timerDOMCache[identity].dom.map(item => item.innerText = 1);
      valineAPI.create(identity);
    }
  }).catch(error => console.log(error.message))
}

if(true){
  calcAndWriteTimes();
}
</script>
   

</div>


      <footer>
  <p class="site-info">
    åšå®¢å·²èŒèŒå“’è¿è¡Œ<span id="time-to-now"></span><span class="my-face">(â—'â—¡'â—)ï¾‰â™¥</span>
    <br>
    Theme - <a href="https://github.com/dongyuanxin/theme-bmw">BMW</a> | Made With ğŸ’— | Powered by <a href="https://godbmw.com/">GodBMW</a>
    <br>
    
  </p>
</footer>



<script>
const timeToNowDOM = document.querySelector("#time-to-now");
const startTimestamp = new Date(2018, 1, 10).getTime();

const updateTimeStr = () => {
  let offset = parseInt(
      (new Date().getTime() - startTimestamp) / 1000,
      10
    ),
    day = Math.floor(offset / 86400),
    hour = Math.floor((offset % 86400) / 3600),
    minute = Math.floor(((offset % 86400) % 3600) / 60),
    second = Math.floor(((offset % 86400) % 3600) % 60);
  timeToNowDOM.innerHTML =
    day + "å¤©" + hour + "å°æ—¶" + minute + "åˆ†é’Ÿ" + second + "ç§’";
  setTimeout(updateTimeStr, 500);
}

setTimeout(updateTimeStr, 500);
</script>


      <div class="back-to-top hidden">
  <span>
    <i class="iconfont icon-60"></i><span></span>%
  </span>
</div>

<script>
const updateIconToTop = percent => {
  let dom = document.querySelector(".back-to-top span span");
  dom.innerText = percent;
  if(percent < 1) {
    document.querySelector(".back-to-top").className = "back-to-top hidden";
  } else {
    document.querySelector(".back-to-top").className = "back-to-top";
  }
}

const handleScoll = () => {
  let isRunning = false;
  return () => {
    if (isRunning) return;
    isRunning = true;
    window.requestAnimationFrame(timestamp => {
      let scrollTop =
          document.documentElement.scrollTop || document.body.scrollTop,
        scrollHeight =
          document.documentElement.scrollHeight ||
          document.body.scrollHeight,
        clientHeight =
          document.documentElement.clientHeight ||
          document.body.clientHeight;
      isRunning = false;
      if (scrollTop <= 1) {
        updateIconToTop(0);
        return;
      }
      if (scrollTop + clientHeight >= scrollHeight) {
        updateIconToTop(100);
      } else {
        updateIconToTop(parseInt(
          100 * scrollTop / (scrollHeight - clientHeight),
          10
        ));
      }
    });
  };
}

const backToTop = () => {
  let scrollTop =
      document.documentElement.scrollTop || document.body.scrollTop,
    delay = 10,
    time = 200;
  if (scrollTop <= 20) {
    document.documentElement.scrollTop = 0;
    document.body.scrollTop = 0;
    return;
  }
  let step = Math.ceil(scrollTop * delay / time);
  let timer = setInterval(() => {
    scrollTop =
      document.documentElement.scrollTop || document.body.scrollTop;
    if (scrollTop - step <= 0) {
      document.documentElement.scrollTop = 0;
      document.body.scrollTop = 0;
      clearInterval(timer);
    } else {
      document.documentElement.scrollTop = scrollTop - step;
      document.body.scrollTop = scrollTop - step;
    }
  }, delay);
}

document.addEventListener("scroll", handleScoll(), false);

document.querySelector(".back-to-top").addEventListener("click", backToTop, false);

</script>

    </div>

    
      <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
<script>
  (() => {
    const mathjaxConfig = {
      showProcessingMessages: false, //å…³é—­jsåŠ è½½è¿‡ç¨‹ä¿¡æ¯
      messageStyle: "none", //ä¸æ˜¾ç¤ºä¿¡æ¯
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
        inlineMath: [["$", "$"], ["\\(", "\\)"]], //è¡Œå†…å…¬å¼é€‰æ‹©ç¬¦
        displayMath: [["$$", "$$"], ["\\[", "\\]"]], //æ®µå†…å…¬å¼é€‰æ‹©ç¬¦
        skipTags: ["script", "noscript", "style", "textarea", "pre", "code", "a"] //é¿å¼€æŸäº›æ ‡ç­¾
      },
      "HTML-CSS": {
        availableFonts: ["STIX", "TeX"], //å¯é€‰å­—ä½“
        showMathMenu: false //å…³é—­å³å‡»èœå•æ˜¾ç¤º
      }
    }

    let mathjaxInterval = setInterval(() => {
      if(!window.MathJax){
        return;
      }
      window.MathJax.Hub.Config(mathjaxConfig)
      window.MathJax.Hub.Queue(["Typeset", MathJax.Hub, document.getElementById('app')])

      clearInterval(mathjaxInterval)
    }, 10)    
  })()
</script>
    

    <script src="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script>
<script async>
  let fancyTimer = setInterval(function(){
    if(!window.$){
      return;
    }
    $(document).ready(function() {
      $(".post img").each(function () {
        if($(this).parent().get(0).tagName.toLowerCase() === "a") {
          return;
        }
        // $(this).attr("data-fancybox", "gallery"); // if you add 'data-fancybox', img will display after showed
        var element = document.createElement("a");
        $(element).attr("data-fancybox", "gallery");
        $(element).attr("href", $(this).attr("src"));
        $(this).wrap(element);
      });
      
      clearInterval(fancyTimer);
    });
  }, 10);
</script>

    
  </body>

</html>
