<!DOCTYPE html>
<html lang="zh-CN">

  
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <meta name="author" content="è‘£æ²…é‘«, yuanxin.me@gmail.com">
  
  
  
  <title>é˜…è¯»ç¬”è®°-Frame-wise Motion and Appearance for Real-time Multiple Object Tracking | YixiaoZhou&#39;s blog</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="MOT,Motion and Appearance,">
  

  <script>
    console.log('\n%c Hexo-theme-bmw v4.0 ' + '%c ğŸ‰ https://github.com/dongyuanxin/theme-bmw ğŸ‰\n' + '\n%c View demo online ' + '%c ğŸ” https://godbmw.com/ ğŸ”  \n' , 'color: #fadfa3; background: #030307; padding:3px 0;', '', 'color: #fadfa3; background: #030307; padding:3px 0;', '');
  </script>

  
    <meta name="description" content="æµ·é˜”å…¨æ˜¯æµªï¼Œå¤©é«˜çš†æ˜¯éœ¾ã€‚">
  

  

  
    <link rel="icon" href="/images/fvatar2.png">
    <link rel="apple-touch-icon" href="/images/touch-icon.png">
  

  <link href="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="/icon/iconfont.css">
<link rel="stylesheet" href="/css/github-markdown.css">
<link rel="stylesheet" href="/css/highlight.css">

  <script src="/js/util.js"></script>
<script src="/js/valine.min.js"></script>

  

  
    <link href="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.js" async></script>
  

  
    <link href="https://cdn.bootcss.com/social-share.js/1.0.16/css/share.min.css" rel="stylesheet">
  
  
  <script src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js" async></script>
  
  
    <script src="//cdn.jsdelivr.net/npm/leancloud-storage@3.11.0/dist/av-min.js"></script>
  

</head>

  <body>

    

    <div id="app">

      <div class="header-wrap">
  <header>
    <div class="site-brand">
      <div class="site-title">
        <a href="/">YiXiaoZhou</a>
      </div>
    </div>
    <nav class="site-navigation">
      <ul class="nav-menu">
      
        <li class="nav-item" data-path="/">
          
            <a href="/" target="_self">
              ä¸»é¡µ
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/archives/">
          
            <a href="/archives/" target="_self">
              å½’æ¡£
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/friends/">
          
            <a href="/friends/" target="_self">
              å‹é“¾
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/about/">
          
            <a href="/about/" target="_self">
              å…³äº
            </a>
          
        </li>
      
        <li class="nav-item" data-path>
          
            <a href="javascript:void(0);" v-else>æŠ“åˆ°æˆ‘</a>
            <ul class="nav-menu--dropdown">
              
                <li>
                  <a href="https://github.com/ZongweiZhou1" target="_blank">
                    Github
                  </a>
                </li>
              
                <li>
                  <a href="https://www.facebook.com/duncon.chou" target="_blank">
                    Facebook
                  </a>
                </li>
              
                <li>
                  <a href="https://weibo.com/u/3231820650/home?wvr=5" target="_self">
                    weibo
                  </a>
                </li>
              
            </ul>
          
        </li>
      
      </ul>
    </nav>
    <i class="iconfont icon-menu"></i>
  </header>
</div>

<script>
  let links = document.querySelectorAll('.nav-item');
  for(let link of links){
    let childrenLink = link.querySelector('ul');
    link.addEventListener('mouseenter', () => {
      if(childrenLink) {
        childrenLink.className = "nav-menu--dropdown active";
      }
    })
    link.addEventListener('mouseleave', () => {
      if(childrenLink) {
        childrenLink.className = "nav-menu--dropdown";
      }
    })
  }
  let rootRealPath = getRealPath(window.location.pathname, true);
  for(let link of links) {
    let linkPath = link.getAttribute("data-path");
    if(linkPath && getRealPath(linkPath, true) === rootRealPath) {
      link.className = "nav-item hover";
    }
  }

  let iconMenu = document.querySelector("i.iconfont.icon-menu"),
    iconMenuClicked = false;
  let navDOM = document.querySelector("nav.site-navigation");
  iconMenu.addEventListener("click", () => {
    iconMenuClicked 
      ? navDOM.className = "site-navigation active"
      : navDOM.className = "site-navigation";
    iconMenuClicked = !iconMenuClicked;
  })
</script>

      








<div class="container post-index">

  

<div class="post">
  <h1 class="article-title">
    <span>é˜…è¯»ç¬”è®°-Frame-wise Motion and Appearance for Real-time Multiple Object Tracking</span>
  </h1>
  <div class="article-top-meta">
    <span>
      å‘å¸ƒ : 
      2019-05-17
    </span>
    
    
      <span>
        æµè§ˆ : <span class="article-timer" data-identity="Frame-wise-Motion-and-Appearance-for-Real-time-Multiple-Object-Tracking"></span>
      </span>
    
  </div>

  

  <div class="article-content">
    <div class="markdown-body">
      <h3 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h3><ul>
<li><p>æ–‡ç« è®¤ä¸ºMOTå½“å‰çš„ä¸»è¦æŒ‘æˆ˜åœ¨äºâ€œä¸åŒå¸§ä¸­ç›®æ ‡ä¸ªæ•°ä¸å®šå¸¦æ¥ç®—æ³•æ•ˆç‡ä¸‹é™â€ã€‚ </p>
<ul>
<li>LSTM åªå¤„ç†äº†single objectã€‚(ä¹Ÿæœ‰å¤„ç†å¤šç›®æ ‡çš„)</li>
<li><p>Re-ID exhausitively åŒ¹é…ç›®æ ‡è¡¨è§‚ã€‚ï¼ˆè¿™ä¸ªä¸å®¢è§‚ï¼Œå¤§å¤šæ•°æ–¹æ³•éƒ½ä¼šé€šè¿‡å…ˆéªŒæ¡ä»¶çº¦æŸèŒƒå›´ï¼‰</p>
</li>
<li><p>å•ä¸ªboxå¤„ç†è€—æ—¶ä¸¥é‡ï¼Œå› ä¸ºéœ€è¦crop+resize+extract features</p>
</li>
</ul>
</li>
<li><p>æ–‡ç« é’ˆå¯¹è¯¥é—®é¢˜æå‡ºä¸€ç§åŒæ—¶ å…³è”ä¸å®šæ•°ç›®ç›®æ ‡çš„Deep Neural Network (DNN)</p>
<ul>
<li>Frame-wise Motion Fields (FMF) ä¼°è®¡ç›®æ ‡è¿åŠ¨ä½ç½®ï¼Œè¿›è¡Œåˆæ­¥åŒ¹é…ã€‚</li>
<li>Frame-wise Apearance Features(FAF)é’ˆå¯¹äºFMFå¤±è´¥æƒ…å½¢ï¼Œé‡‡ç”¨è¡¨è§‚å†æ¬¡åŒ¹é…</li>
</ul>
</li>
<li><p>åœ¨MOT17 benchmarkä¸Šä¿æŒSOTAæ€§èƒ½åŒæ—¶ï¼Œé€Ÿåº¦å¤§å¹…æå‡ã€‚</p>
</li>
</ul>
<hr>
<h3 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h3><p>ä¸»è¦è´¡çŒ®ç‚¹ï¼š</p>
<blockquote>
<p>1) Frame-wise Motion Fields (FMF) to represent the association among indefinite number of objects between frames.</p>
<p>2) Frame-wise Apearance Feature (FAF) to provide Re-ID features to assist FMF-based object association.</p>
<p>3) A simple yet effective inference algorithm to link the objects according to FMFs, and to fix a few uncertain associations using FAFs. </p>
<p>4)  Experiments on the challenging MOT17 benchmark show that our method achieves real-time MOT with competitive performance as the state-of-the-art approaches.</p>
</blockquote>
<hr>
<h3 id="Proposed-Method-FMA"><a href="#Proposed-Method-FMA" class="headerlink" title="Proposed Method (FMA)"></a>Proposed Method (FMA)</h3><p>FMAæ–¹æ³•ç½‘ç»œç»“æ„å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2019/05/17/Frame-wise-Motion-and-Appearance-for-Real-time-Multiple-Object-Tracking/architecture.png" alt="architecture"></p>
<h4 id="Frame-wise-Motion-Fields"><a href="#Frame-wise-Motion-Fields" class="headerlink" title="Frame-wise Motion Fields"></a>Frame-wise Motion Fields</h4><p>ä½¿ç”¨$I_1, I_2\in R^{w\times h\times 3}$åˆ†åˆ«è¡¨ç¤ºæ—¶é—´å…ˆåçš„ä¸¤å¸§å›¾åƒï¼Œ $b_i$è¡¨ç¤ºç¬¬$i$ä¸ªå…³è”ç›®æ ‡çš„bounding boxï¼Œ ä¸¤å¸§ä¸­$b_i$çš„$x,y$åæ ‡åˆ†åˆ«è¡¨ç¤ºä¸º$\mathcal{X}_1(b_i), \mathcal{Y}_1(b_i), \mathcal{X}_2(b_i), \mathcal{Y}_2(b_i)$ , FMFsè®¡ç®—äº†ä¸¤å¸§å›¾åƒ$I_1, I_2$ä¹‹é—´çš„å››ä¸ªè¿åŠ¨åœºä¿¡æ¯ï¼š</p>
<script type="math/tex; mode=display">
\begin{align}
F_x^1(b_i) &= \mathcal{X}_2(b_i) - \mathcal{X}_1(b_i),\\
F_y^1(b_i) &= \mathcal{Y}_2(b_i) - \mathcal(Y)_1(b_i)\\
F_x^2(b_i) &= -F_x^1(b_i),\\
F_y^2(b_i) &= -F_y^1(b_i)
\end{align}</script><p>è¿™é‡Œé¢„æµ‹äº†ç›®æ ‡çš„åŒå‘motionå‘é‡ï¼Œä¸»è¦æ˜¯ä¸ºäº†è®©motionå‘é‡æ›´åŠ é²æ£’ã€‚ä¸¤æ–¹é¢è€ƒè™‘ï¼š 1ï¼‰å‰åä¸¤å¸§çš„è¡¨è§‚å’Œä¸Šä¸‹æ–‡ä¿¡æ¯å¯èƒ½å·®å¼‚è¾ƒå¤§ï¼Œæ‹†å¼€è€ƒè™‘æ›´é²æ£’ï¼›2ï¼‰å¯ä»¥è§£å†³éƒ¨åˆ†é®æŒ¡é—®é¢˜ï¼Œå‰ååˆ†åˆ«é¢„æµ‹ã€‚ç¤ºä¾‹å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src="/2019/05/17/Frame-wise-Motion-and-Appearance-for-Real-time-Multiple-Object-Tracking/FMFs.png" alt="FMFs"></p>
<p>æ³¨æ„ä¸Šå›¾(b)(d)ä¸­é»‘è‰²åå­—æ ‡æ³¨çš„ä¸­å¿ƒç‚¹.</p>
<p>æŸå¤±å‡½æ•°ï¼š</p>
<script type="math/tex; mode=display">
\mathcal{L}_{MSE} = \sum_{k=1}^2\sum_{b_i\in B}\Vert H_x^k(b_i)-F_x^k(b_i)\Vert_F^2 +  \Vert H_y^k(b_i)-F_y^k(b_i)\Vert_F^2</script><p>$B$æ˜¯å…³è”çš„ç›®æ ‡çš„bounding boxçš„é›†åˆã€‚</p>
<h4 id="Frame-wise-Appearance-Features"><a href="#Frame-wise-Appearance-Features" class="headerlink" title="Frame-wise Appearance Features"></a>Frame-wise Appearance Features</h4><p>FMFå¯ä»¥å¤„ç†ç®€å•çš„æƒ…å†µï¼Œä½†æ˜¯ç¢°åˆ°æ‹¥æŒ¤æˆ–è€…å¹²æ‰°å¤ªå¤šçš„æ—¶å€™å°±ä¼šé¢„æµ‹å¤±è´¥ï¼Œè¿™æ—¶å€™å¸Œæœ›é€šè¿‡FAFæ¨¡å—é‡‡ç”¨ReIDå®ç°åŒ¹é…ã€‚</p>
<p>ä¼ ç»Ÿçš„ReIDæ–¹æ³•å°†æ¯ä¸€ä¸ªç›®æ ‡cropå‡ºæ¥è¿›è¡Œresizeä¹‹åæ”¾åˆ°ç½‘ç»œä¸­æŠ½å–ç‰¹å¾ï¼Œè€—æ—¶ä¸¥é‡ã€‚è¯¥æ–¹æ³•ä¸­åˆ©ç”¨FAFæ¨¡å—ç›´æ¥ä»æ•´å¼ å›¾åƒä¸­æŠ½å–æ¯ä¸ªç›®æ ‡çš„ç‰¹å¾ï¼ŒåŒæ—¶FAFå’ŒFMFæ¨¡å—å¯ä»¥å…±äº«éƒ¨åˆ†ç½‘ç»œå±‚ã€‚ä»è€Œå‰å‘æ¨ç†é€Ÿåº¦åŠ å¿«çš„åŒæ—¶ä¹Ÿèƒ½å¤Ÿè§„é¿ç›®æ ‡ä¸ªæ•°ä¸åŒå¸¦æ¥çš„é—®é¢˜ã€‚</p>
<p>ç»™å®šåŒä¸€ä¸ªç›®æ ‡åœ¨ä¸¤å¸§å›¾åƒä¸­çš„bounding boxesï¼Œ FAFæ¨¡å—ä»FMFæŠ½å–çš„ç‰¹å¾ä¸­crop patchesï¼Œç„¶åè®¡ç®—ç›¸ä¼¼åº¦ã€‚ åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­åŒä¸€ä¸ªç›®æ ‡çš„ä¸åŒç‰¹å¾concatä¸€èµ·ä½œä¸ºæ­£æ ·æœ¬ï¼Œ ä¸åŒæ ·æœ¬ç‰¹å¾concatä¸€èµ·ä½œä¸ºè´Ÿæ ·æœ¬ã€‚æ­£è´Ÿæ ·æœ¬æ¯”ä¾‹æ§åˆ¶åœ¨$1:4$, æŸå¤±é‡‡ç”¨äº¤å‰ç†µæŸå¤±</p>
<script type="math/tex; mode=display">
\mathcal{L}_{BCE} -\frac{1}{N}\sum_{j=1}^N\mathcal{S}_j\log h(p_j) + (1-\mathcal{S_j})\log (1-h(p_j))</script><p>$p_j, \mathcal{S_j}$è¡¨ç¤ºæ ·æœ¬å’Œå¯¹åº”labelã€‚</p>
<h4 id="Inference-Algorithm"><a href="#Inference-Algorithm" class="headerlink" title="Inference Algorithm"></a>Inference Algorithm</h4><p>$D=\{D_1, \cdots, D_N\}, T=\{T^1, \cdots, T^M\}$åˆ†åˆ«è¡¨ç¤ºå½“å‰æ—¶åˆ»çš„æ£€æµ‹ç»“æœå’Œå·²ç»å­˜åœ¨çš„è·Ÿè¸ªè½¨è¿¹ã€‚ $IOU(\cdot)$è¡¨ç¤ºIOUç®—å­ï¼Œ $SIM(\cdot)$è¡¨ç¤ºè¡¨è§‚ç›¸ä¼¼åº¦ã€‚ Inference Algorithmåˆ†ä¸º3æ­¥ï¼š</p>
<ul>
<li>ä»former åˆ°latterè¿›è¡Œå…³è”</li>
<li>ä»latter åˆ°formerè¿›è¡Œå…³è”</li>
<li>å…³è”å¤±è´¥å‰©ä¸‹çš„trackså’Œdetectionsï¼Œåˆ©ç”¨FAFsè¿›è¡Œå…³è”ã€‚</li>
</ul>
<p>IOUå’ŒReIDçš„é˜ˆå€¼åˆ†åˆ«ä¸º$\tau_1, \tau_2$</p>
<hr>
<h3 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h3><p>Datasets: MOT17 benchmark</p>
<p>Setting: </p>
<p>â€‹    è®­ç»ƒæ ·æœ¬å¯¹çš„é€‰æ‹©ï¼š ä¸¤ç§æ—¶é—´é—´éš” æ¯ä¸€å¸§å’Œæ¯4zhen</p>
<p>â€‹    batchsize=4ï¼› lr=0.001, 70ä¸ªepochä¹‹åå˜ä¸º0.0001ã€‚</p>
<p>â€‹    æµ‹è¯•æ—¶æ ·æœ¬å¯¹ï¼šè¿ç»­ä¸¤å¸§</p>
<p>â€‹    $\tau_1=0.45, \tau_2=0.5$</p>
<h5 id="Ablation-Study"><a href="#Ablation-Study" class="headerlink" title="Ablation Study"></a>Ablation Study</h5><ol>
<li><p>MOT result of each component</p>
<p><img src="/2019/05/17/Frame-wise-Motion-and-Appearance-for-Real-time-Multiple-Object-Tracking/table2.png" alt="tab2"></p>
<p>è®­ç»ƒçš„ä½¿ç”¨åŒæ—¶è®­ç»ƒFAFå’ŒFMFæ¨¡å—ï¼Œç„¶åä½¿ç”¨æ¯ä¸ªæ¨¡å—è¿›è¡Œè·Ÿè¸ªã€‚</p>
<p>æ€§èƒ½å·®åˆ«ä¸æ˜¯å¾ˆå¤§ï¼Œä½†é€Ÿåº¦å·®å¼‚æ˜æ˜¾ã€‚ ä½œè€…è®¤ä¸ºFAFéœ€è¦å¯¹å›¾åƒè¿›è¡Œcropå› æ­¤é€Ÿåº¦è¾ƒæ…¢ã€‚</p>
</li>
<li><p>Effectiveness of FMFs</p>
<p>æ ¹æ®FMFs, åˆ©ç”¨IOUåˆæ­¥åŒ¹é…æ•ˆæœå¦‚ä¸‹ï¼šè¿™å¼ å›¾åˆ†è¾¨ç‡å¤ªä½ï¼Œæ ¹æœ¬å¾—ä¸åˆ°ä»€ä¹ˆç»“è®ºã€‚</p>
<p><img src="/2019/05/17/Frame-wise-Motion-and-Appearance-for-Real-time-Multiple-Object-Tracking/FMFs_experiments.png" alt="FMFs"></p>
</li>
</ol>
<h5 id="Comparison"><a href="#Comparison" class="headerlink" title="Comparison"></a>Comparison</h5><ol>
<li><p>æ€§èƒ½å¯¹æ¯”</p>
<p><img src="/2019/05/17/Frame-wise-Motion-and-Appearance-for-Real-time-Multiple-Object-Tracking/table3.png" alt="table3"></p>
<p>ç»“è®ºï¼š a) åŸºäºæ·±åº¦ç‰¹å¾çš„æ–¹æ³•æ€§èƒ½ä¼˜äºä¼ ç»Ÿç‰¹å¾ï¼› bï¼‰æœ¬æ–‡æ–¹æ³•æ€§èƒ½å’ŒMOTDTæ–¹æ³•æ€§èƒ½ç±»ä¼¼ï¼Œä½†é€Ÿåº¦æ›´å¿«ã€‚</p>
<p>åˆ†æåŸå› ï¼ša)ï¼Œè®­ç»ƒæ•°æ®å¤ªå°‘ï¼Œåªåœ¨MOT17è®­ç»ƒé›†ä¸Šè®­ç»ƒï¼Œb)è¯¥æ–¹æ³•æ¯”è¾ƒä¾èµ–äºå‡†ç¡®çš„æ£€æµ‹ç»“æœ</p>
</li>
<li><p>æ£€æµ‹å™¨å¯¹æ¯”</p>
<p><img src="/2019/05/17/Frame-wise-Motion-and-Appearance-for-Real-time-Multiple-Object-Tracking/table4.png" alt="table4"></p>
<p>ç»“è®ºï¼š æœ¬æ–‡æ–¹æ³•æ›´é€‚åˆäºå‡†ç¡®åœ°æ£€æµ‹å™¨ã€‚</p>
</li>
</ol>
<hr>
<h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><blockquote>
<p>Practical and real-time MOT has to scale well with indefinite number of objects. This paper addresses this problem with frame-wise representations of object motion and appearance. In particular, FMFs simultaneously handle forward and backward motions of all bounding boxes in two input frames, which is the key to achieve real-time MOT inference. FAFs helps FMFs in handling some hard cases without significantly compromising the speed. The FMFs and FAFs are efficiently used in our inference algorithm, and achieved faster and more competitive results on the MOT17 benchmark. Our frame-wise representations are very efficient and general, making it possible to achieve real-time inference on more computationally expensive tracking tasks, such as instance segmentation tracking and scene mapping.</p>
</blockquote>
<hr>
<h3 id="è®¨è®º"><a href="#è®¨è®º" class="headerlink" title="è®¨è®º"></a>è®¨è®º</h3><p>æˆ–è®¸æ˜¯å› ä¸ºpreprintç‰ˆæœ¬çš„åŸå› ï¼Œæ–‡ç« å­˜åœ¨ä¸€äº›é—®é¢˜æ²¡æœ‰é˜è¿°æ˜ç™½ã€‚</p>
<ol>
<li>è®¡ç®—FMFçš„æ—¶å€™æ ·æœ¬ç‚¹çš„ä¸ªæ•°å¤ªå°‘ï¼Œè¿‡äºç¨€ç–æ˜¯å¦‚ä½•è®­ç»ƒçš„ï¼Ÿ</li>
<li>è®­ç»ƒç»†èŠ‚æ²¡æœ‰æä¾›å¤šå°‘epochç­‰</li>
<li>FAFè¿›è¡Œcropæ—¶æ˜¯ä»é‚£ä¸€å±‚cropçš„ï¼Ÿ</li>
<li>ä¸€èˆ¬è€Œè¨€è®­ç»ƒreidç½‘ç»œæ—¶ï¼Œå•ç‹¬é‡‡ç”¨äº¤å‰ç†µæŸå¤±ä¼¼ä¹éƒ½ä¸èƒ½å–å¾—è¾ƒå¥½æ•ˆæœã€‚</li>
</ol>
    </div>
  </div>
  
    <div class="copy-right">
      <div class="markdown-body">
        <blockquote>
        
        
          æœ¬æ–‡ä½œè€… : zhouzongwei <br>
        
        åŸæ–‡é“¾æ¥ : <a href>http://yoursite.com/2019/05/17/Frame-wise-Motion-and-Appearance-for-Real-time-Multiple-Object-Tracking/</a><br>
        ç‰ˆæƒå£°æ˜ : æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
        </blockquote>
      </div>
    </div>
  
  
  
    <div class="social-share" style="margin-top: -2rem" data-wechat-qrcode-title="<p>å¾®ä¿¡æ‰«ä¸€æ‰«</p>" data-wechat-qrcode-helper="<p>å¾®ä¿¡å³ä¸Šè§’, æ‰«ä¸€æ‰«åˆ†äº«</p>" data-sites="qzone, qq, weibo, wechat, douban, google, facebook, twitter">
  <span style="color: #6b7487; font-size: 1.4rem;">åˆ†äº«åˆ°: </span>
</div>
<script src="https://cdn.bootcss.com/social-share.js/1.0.16/js/social-share.min.js" async></script>
  

  
    <div id="reward">
  
    <p id="reward-meta">çŸ¥è¯† & æƒ…æ€€ | èµæˆ–è€…ä¸èµï¼Œæˆ‘éƒ½åœ¨è¿™ï¼Œä¸å£°ä¸å“</p>
  
  <button id="reward-btn">
    
    <span>æ‰“èµ</span>
  </button>
  <div id="reward-qrcode">
    
      <div class="reward-qrcode--container">
        <img class="qrcode-img" src="/images/wechatimg.jpg" alt="å¾®ä¿¡æ‰«ä¸€æ‰«, ä»¥èµ„é¼“åŠ±">
        <p class="qrcode-meta">å¾®ä¿¡æ‰«ä¸€æ‰«, ä»¥èµ„é¼“åŠ±</p>
      </div>
    
      <div class="reward-qrcode--container">
        <img class="qrcode-img" src="/images/alipayimg.jpg" alt="æ”¯ä»˜å®æ‰«ä¸€æ‰«, å†æ¥å†å‰">
        <p class="qrcode-meta">æ”¯ä»˜å®æ‰«ä¸€æ‰«, å†æ¥å†å‰</p>
      </div>
    
  </div>

</div>

<script>
  (() => {
    let button = document.querySelector('#reward-btn'),
      qrcode = document.querySelector('#reward-qrcode'),
      display = false;
    
    button.addEventListener('click', () => {
      qrcode.style.display = display ? 'none' : 'block'
      display = !display
    }, false)
  })()
</script>
  

  <div class="article-footer">
    <div class="article-meta pull-left">
      <span>
        
          <i class="iconfont icon-06tags"></i>æ ‡ç­¾: 
          
          <span class="span--tag">
            <a href="/tags/MOT/">
              #MOT
            </a>
          </span>
          
          <span class="span--tag">
            <a href="/tags/Motion-and-Appearance/">
              #Motion and Appearance
            </a>
          </span>
          
        
      </span>
    </div>
    <div class="article-meta pull-right">
    </div>
  </div>
</div>


  <aside id="sidebar">
    <p id="sidebar-header"></p>
    <ol id="sidebar-toc"></ol>
  </aside>
  <script async>setTimeout(generateToc, 10);</script>


  <nav class="post-navigation">
    
      <div class="nav-pre">
        <i class="iconfont icon-prev"></i>
        ä¸Šä¸€ç¯‡:
        <a href="/2019/05/17/MOT16-A-Benchmark-for-Multi-Object-Tracking/" target="_self">é˜…è¯»ç¬”è®°-MOT16:A Benchmark for Multi-Object Tracking</a>
      </div>
    
    
      <div class="nav-next">
        ä¸‹ä¸€ç¯‡:
        <a href="/2019/05/18/MOT-overview-1st/" target="_self">å¤šç›®æ ‡è·Ÿè¸ªæ€»ç»“(ä¸Š)-ä¼ ç»Ÿæ–¹æ³•</a>
        <i class="iconfont icon-next"></i>
      </div>
    
  </nav>

  
    <a href="#comment" class="comment-anchor"></a>
<div class="comment-title"><i class="iconfont icon-footprint"></i> ç•™ä¸‹è¶³è¿¹ <i class="iconfont icon-footprint"></i></div>
<div id="vcomments"></div>

<script defer>
  if( true ) {
    let path = getRealPath()
    new Valine({
      el: "#vcomments",
      appId: "oGELcUvlMiFClUUpxn7V3qUo-gzGzoHsz",
      appKey: "fWABYGLTAoV1LT4LYzh1PNmQ",
      notify: false,
      verify: false,
      avatar: "robohash",
      placeholder: "æ­£ç¡®å¡«å†™é‚®ç®±, æ‰èƒ½åŠæ—¶æ”¶åˆ°å›å¤å“¦â™ª(^âˆ‡^*)",
      path
    });
  }
</script>
   

  
    <script defer>
const valineAPI = (() => {
  try {
    AV.init("oGELcUvlMiFClUUpxn7V3qUo-gzGzoHsz", "fWABYGLTAoV1LT4LYzh1PNmQ");
  } catch(error) {}
  const isExist = (identity) => {
    identity = identity || getRealPath();
    let query = new AV.Query('Timer');
    return new Promise((resolve, reject) => {
      query.equalTo("identity", identity);
      query.find().then(results => {
        resolve(results.length > 0);
      }, error => reject(error));
    })
  }

  const _get = (identity) => {
    let query = null;
    if(identity && identity instanceof Array){
      let querys = [];
      for(let i = 0; i < identity.length; ++i) {
        querys[i] = new AV.Query('Timer');
        querys[i].equalTo('identity', identity[i]);
      }
      query = AV.Query.or.apply(null ,querys);
    } else {
      identity = identity || getRealPath();
      query = new AV.Query("Timer");
      query.equalTo("identity", identity);
    }

    return new Promise((resolve, reject) => {
      query.find()
      .then(results => resolve(results))
      .catch(error => reject(error))
    })
  }

  const create = (identity) => {
    identity = identity || getRealPath();
    return new Promise((resolve, reject) => {
      let Todo = AV.Object.extend('Timer');
      let todo = new Todo();
      todo.set("times", 1);
      todo.set("identity", identity);
      todo.save().then(res => resolve(true), error => reject(error));
    })
  }

  const update = (identity) => {
    identity = identity || getRealPath();
    return new Promise((resolve, reject) => {
      let query = new AV.Query('Timer');
      query.equalTo("identity", identity);
      query.find().then(todos => {
        todos.forEach(todo => {
          todo.set("times", todo.attributes.times + 1);
        });
        return AV.Object.saveAll(todos);
      }).then(todos => resolve(true), error => reject(error));
    })
  }

  return {
    isExist,
    _get,
    update,
    create
  }
})()

const calcAndWriteTimes = () => {
  let isPost = true;

  let timerAllDOM = document.querySelectorAll(".article-timer");

  if(isPost) {
    let identity = timerAllDOM[0].getAttribute("data-identity");
    valineAPI.isExist(identity)
    .then(exist => {
      if(exist) {
        return valineAPI.update(identity);
      }
      return new Promise(resolve => resolve(true));
    })
    .then( succuess => valineAPI._get(identity))
    .then( result => timerAllDOM[0].innerText = result[0].attributes.times)
    .catch(error => console.log(error.message))
    return ;
  }

  let timerDOMCache = {};

  for(let timerDOM of timerAllDOM) {
    let identity = timerDOM.getAttribute("data-identity");
    if(timerDOMCache.hasOwnProperty(identity)){
      timerDOMCache[identity].dom.push(timerDOM);
    }else{
      timerDOMCache[identity] = {
        dom: [timerDOM],
        times: undefined
      };
    }
  }

  let identities = Object.keys(timerDOMCache);
  valineAPI._get(identities).then(results => {
    for(let result of results) {
      let {identity, times} = result.attributes;
      timerDOMCache[identity].times = times;
      timerDOMCache[identity].dom.map(item => item.innerText = times);
    }
    for(let identity of identities) {
      if(timerDOMCache[identity].times){
        continue;
      }
      timerDOMCache[identity].dom.map(item => item.innerText = 1);
      valineAPI.create(identity);
    }
  }).catch(error => console.log(error.message))
}

if(true){
  calcAndWriteTimes();
}
</script>
   

</div>


      <footer>
  <p class="site-info">
    åšå®¢å·²èŒèŒå“’è¿è¡Œ<span id="time-to-now"></span><span class="my-face">(â—'â—¡'â—)ï¾‰â™¥</span>
    <br>
    Theme - <a href="https://github.com/dongyuanxin/theme-bmw">BMW</a> | Made With ğŸ’— | Powered by <a href="https://godbmw.com/">GodBMW</a>
    <br>
    
  </p>
</footer>



<script>
const timeToNowDOM = document.querySelector("#time-to-now");
const startTimestamp = new Date(2018, 1, 10).getTime();

const updateTimeStr = () => {
  let offset = parseInt(
      (new Date().getTime() - startTimestamp) / 1000,
      10
    ),
    day = Math.floor(offset / 86400),
    hour = Math.floor((offset % 86400) / 3600),
    minute = Math.floor(((offset % 86400) % 3600) / 60),
    second = Math.floor(((offset % 86400) % 3600) % 60);
  timeToNowDOM.innerHTML =
    day + "å¤©" + hour + "å°æ—¶" + minute + "åˆ†é’Ÿ" + second + "ç§’";
  setTimeout(updateTimeStr, 500);
}

setTimeout(updateTimeStr, 500);
</script>


      <div class="back-to-top hidden">
  <span>
    <i class="iconfont icon-60"></i><span></span>%
  </span>
</div>

<script>
const updateIconToTop = percent => {
  let dom = document.querySelector(".back-to-top span span");
  dom.innerText = percent;
  if(percent < 1) {
    document.querySelector(".back-to-top").className = "back-to-top hidden";
  } else {
    document.querySelector(".back-to-top").className = "back-to-top";
  }
}

const handleScoll = () => {
  let isRunning = false;
  return () => {
    if (isRunning) return;
    isRunning = true;
    window.requestAnimationFrame(timestamp => {
      let scrollTop =
          document.documentElement.scrollTop || document.body.scrollTop,
        scrollHeight =
          document.documentElement.scrollHeight ||
          document.body.scrollHeight,
        clientHeight =
          document.documentElement.clientHeight ||
          document.body.clientHeight;
      isRunning = false;
      if (scrollTop <= 1) {
        updateIconToTop(0);
        return;
      }
      if (scrollTop + clientHeight >= scrollHeight) {
        updateIconToTop(100);
      } else {
        updateIconToTop(parseInt(
          100 * scrollTop / (scrollHeight - clientHeight),
          10
        ));
      }
    });
  };
}

const backToTop = () => {
  let scrollTop =
      document.documentElement.scrollTop || document.body.scrollTop,
    delay = 10,
    time = 200;
  if (scrollTop <= 20) {
    document.documentElement.scrollTop = 0;
    document.body.scrollTop = 0;
    return;
  }
  let step = Math.ceil(scrollTop * delay / time);
  let timer = setInterval(() => {
    scrollTop =
      document.documentElement.scrollTop || document.body.scrollTop;
    if (scrollTop - step <= 0) {
      document.documentElement.scrollTop = 0;
      document.body.scrollTop = 0;
      clearInterval(timer);
    } else {
      document.documentElement.scrollTop = scrollTop - step;
      document.body.scrollTop = scrollTop - step;
    }
  }, delay);
}

document.addEventListener("scroll", handleScoll(), false);

document.querySelector(".back-to-top").addEventListener("click", backToTop, false);

</script>

    </div>

    
      <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
<script>
  (() => {
    const mathjaxConfig = {
      showProcessingMessages: false, //å…³é—­jsåŠ è½½è¿‡ç¨‹ä¿¡æ¯
      messageStyle: "none", //ä¸æ˜¾ç¤ºä¿¡æ¯
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
        inlineMath: [["$", "$"], ["\\(", "\\)"]], //è¡Œå†…å…¬å¼é€‰æ‹©ç¬¦
        displayMath: [["$$", "$$"], ["\\[", "\\]"]], //æ®µå†…å…¬å¼é€‰æ‹©ç¬¦
        skipTags: ["script", "noscript", "style", "textarea", "pre", "code", "a"] //é¿å¼€æŸäº›æ ‡ç­¾
      },
      "HTML-CSS": {
        availableFonts: ["STIX", "TeX"], //å¯é€‰å­—ä½“
        showMathMenu: false //å…³é—­å³å‡»èœå•æ˜¾ç¤º
      }
    }

    let mathjaxInterval = setInterval(() => {
      if(!window.MathJax){
        return;
      }
      window.MathJax.Hub.Config(mathjaxConfig)
      window.MathJax.Hub.Queue(["Typeset", MathJax.Hub, document.getElementById('app')])

      clearInterval(mathjaxInterval)
    }, 10)    
  })()
</script>
    

    <script src="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script>
<script async>
  let fancyTimer = setInterval(function(){
    if(!window.$){
      return;
    }
    $(document).ready(function() {
      $(".post img").each(function () {
        if($(this).parent().get(0).tagName.toLowerCase() === "a") {
          return;
        }
        // $(this).attr("data-fancybox", "gallery"); // if you add 'data-fancybox', img will display after showed
        var element = document.createElement("a");
        $(element).attr("data-fancybox", "gallery");
        $(element).attr("href", $(this).attr("src"));
        $(this).wrap(element);
      });
      
      clearInterval(fancyTimer);
    });
  }, 10);
</script>

    
  </body>

</html>
