<!DOCTYPE html>
<html lang="zh-CN">

  
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <meta name="author" content="è‘£æ²…é‘«, yuanxin.me@gmail.com">
  
  
  
  <title>é˜…è¯»ç¬”è®°-Social Attention Modeling Attention in Human Crowds | YixiaoZhou&#39;s blog</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="ST-Graph,Attention,trajectory prediction,">
  

  <script>
    console.log('\n%c Hexo-theme-bmw v4.0 ' + '%c ğŸ‰ https://github.com/dongyuanxin/theme-bmw ğŸ‰\n' + '\n%c View demo online ' + '%c ğŸ” https://godbmw.com/ ğŸ”  \n' , 'color: #fadfa3; background: #030307; padding:3px 0;', '', 'color: #fadfa3; background: #030307; padding:3px 0;', '');
  </script>

  
    <meta name="description" content="æµ·é˜”å…¨æ˜¯æµªï¼Œå¤©é«˜çš†æ˜¯éœ¾ã€‚">
  

  

  
    <link rel="icon" href="/images/fvatar2.png">
    <link rel="apple-touch-icon" href="/images/touch-icon.png">
  

  <link href="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="/icon/iconfont.css">
<link rel="stylesheet" href="/css/github-markdown.css">
<link rel="stylesheet" href="/css/highlight.css">

  <script src="/js/util.js"></script>
<script src="/js/valine.min.js"></script>

  

  
    <link href="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.js" async></script>
  

  
    <link href="https://cdn.bootcss.com/social-share.js/1.0.16/css/share.min.css" rel="stylesheet">
  
  
  <script src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js" async></script>
  
  
    <script src="//cdn.jsdelivr.net/npm/leancloud-storage@3.11.0/dist/av-min.js"></script>
  

</head>

  <body>

    

    <div id="app">

      <div class="header-wrap">
  <header>
    <div class="site-brand">
      <div class="site-title">
        <a href="/">YiXiaoZhou</a>
      </div>
    </div>
    <nav class="site-navigation">
      <ul class="nav-menu">
      
        <li class="nav-item" data-path="/">
          
            <a href="/" target="_self">
              ä¸»é¡µ
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/archives/">
          
            <a href="/archives/" target="_self">
              å½’æ¡£
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/friends/">
          
            <a href="/friends/" target="_self">
              å‹é“¾
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/about/">
          
            <a href="/about/" target="_self">
              å…³äº
            </a>
          
        </li>
      
        <li class="nav-item" data-path>
          
            <a href="javascript:void(0);" v-else>æŠ“åˆ°æˆ‘</a>
            <ul class="nav-menu--dropdown">
              
                <li>
                  <a href="https://github.com/ZongweiZhou1" target="_blank">
                    Github
                  </a>
                </li>
              
                <li>
                  <a href="https://www.facebook.com/duncon.chou" target="_blank">
                    Facebook
                  </a>
                </li>
              
                <li>
                  <a href="https://weibo.com/u/3231820650/home?wvr=5" target="_self">
                    weibo
                  </a>
                </li>
              
            </ul>
          
        </li>
      
      </ul>
    </nav>
    <i class="iconfont icon-menu"></i>
  </header>
</div>

<script>
  let links = document.querySelectorAll('.nav-item');
  for(let link of links){
    let childrenLink = link.querySelector('ul');
    link.addEventListener('mouseenter', () => {
      if(childrenLink) {
        childrenLink.className = "nav-menu--dropdown active";
      }
    })
    link.addEventListener('mouseleave', () => {
      if(childrenLink) {
        childrenLink.className = "nav-menu--dropdown";
      }
    })
  }
  let rootRealPath = getRealPath(window.location.pathname, true);
  for(let link of links) {
    let linkPath = link.getAttribute("data-path");
    if(linkPath && getRealPath(linkPath, true) === rootRealPath) {
      link.className = "nav-item hover";
    }
  }

  let iconMenu = document.querySelector("i.iconfont.icon-menu"),
    iconMenuClicked = false;
  let navDOM = document.querySelector("nav.site-navigation");
  iconMenu.addEventListener("click", () => {
    iconMenuClicked 
      ? navDOM.className = "site-navigation active"
      : navDOM.className = "site-navigation";
    iconMenuClicked = !iconMenuClicked;
  })
</script>

      








<div class="container post-index">

  

<div class="post">
  <h1 class="article-title">
    <span>é˜…è¯»ç¬”è®°-Social Attention Modeling Attention in Human Crowds</span>
  </h1>
  <div class="article-top-meta">
    <span>
      å‘å¸ƒ : 
      2019-07-10
    </span>
    
    
      <span>
        æµè§ˆ : <span class="article-timer" data-identity="SocialAttention"></span>
      </span>
    
  </div>

  

  <div class="article-content">
    <div class="markdown-body">
      <h4 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h4><p>æœºå™¨äººåœ¨æ‹¥æŒ¤åœºæ™¯ä¸‹çš„å¯¼èˆªéœ€è¦èƒ½å¤Ÿé¢„æµ‹å‡†ç¡®ï¼Œæœ‰æ•ˆçš„è¡Œäººè½¨è¿¹ã€‚ä¹‹å‰çš„æ–¹æ³•åœ¨é¢„æµ‹è¡Œäººè½¨è¿¹æ—¶å°†è¡Œäººä¹‹é—´çš„äº¤äº’å»ºæ¨¡ä¸ºä¸´è¿‘åº¦å‡½æ•°ã€‚ ä½†è¿™ç§å‡è®¾æœ‰æ—¶å€™å¹¶ä¸æˆç«‹ï¼Œæ¯”å¦‚è·ç¦»è¿‘çš„ç›®æ ‡å¯èƒ½å› ä¸ºå’Œæœºå™¨äººçš„é€Ÿåº¦æ–¹å‘ä¸€è‡´ä»è€Œç›¸å¯¹äºè¾ƒè¿œçš„é€Ÿåº¦ä¸ä¸€è‡´çš„ç›®æ ‡å¯¹äºå†²çªè§„é¿çš„å½±å“åè€Œå°ã€‚æ‰€ä»¥è¿™ç¯‡æ–‡ç« ä¸æ˜¯åŸºäºè·ç¦»åº¦é‡åˆ»ç”»ç›®æ ‡ä¹‹é—´çš„ç›¸äº’å½±å“ï¼Œè€Œæ˜¯é€šè¿‡ä¸€ç§Social Attentionçš„æœºåˆ¶å»åˆ»ç”»è¡Œäººä¹‹é—´çš„ç›¸äº’å½±å“çš„æƒé‡ã€‚</p>
<h4 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h4><ol>
<li>æ—©æœŸçš„ä¸€éƒ¨åˆ†å·¥ä½œæ˜¯ä»crowdsåœºæ™¯ä¸­å»ºæ¨¡ç‹¬ç«‹ä¸ªä½“çš„è¿åŠ¨æ¨¡å¼ï¼Œä»è€Œé¢„æµ‹æ¯ä¸ªç›®æ ‡çš„è¿åŠ¨è½¨è¿¹ã€‚ä½†è¿™ç§æ–¹æ³•æ¯ä¸ªä¸ªä½“ç‹¬ç«‹ï¼Œå¹¶æ²¡æœ‰è€ƒè™‘è¡Œäººä¹‹é—´å¯èƒ½å­˜åœ¨çš„ç›¸äº’å½±å“ï¼Œè¿›è€Œå¯¼è‡´robotçš„è·¯å¾„è§„åˆ’æ˜¯æ¬¡ä¼˜çš„ã€‚</li>
<li>å¦å¤–ä¸€äº›æ–¹æ³•é€šè¿‡ç©ºé—´å±€éƒ¨äº¤äº’æ¨¡å‹å»ºæ¨¡äº¤äº’ç›®æ ‡çš„æœªæ¥è½¨è¿¹çš„è”åˆåˆ†å¸ƒå®ç°è½¨è¿¹é¢„æµ‹ã€‚è¿™ç§æ–¹æ³•èƒ½å¤Ÿå»ºæ¨¡è½¨è¿¹ä¹‹é—´çš„ç›¸äº’å½±å“ï¼Œä½†æ˜¯è¯¥ç±»æ–¹æ³•åªè€ƒè™‘äº†å±€éƒ¨é‚»åŸŸå†…çš„å…¶ä»–ç›®æ ‡ï¼Œ è€Œåœ¨çœŸå®åœºæ™¯ä¸­å¾€å¾€å¹¶ä¸æ˜¯è¿™æ ·ã€‚æ¯”å¦‚èµ°å»Šå¯¹é¢è¿é¢èµ°è¿‡å»çš„ä¸¤ä¸ªäººï¼Œå³ä½¿ç›¸è·å¾ˆè¿œï¼Œå¯¹å¯¹æ–¹é€Ÿåº¦ä¹Ÿæ˜¯æœ‰å½±å“çš„ï¼›åŒæ ·çš„å¦‚æœä¸¤ä¸ªäººå¾ˆè¿‘ä½†æ˜¯ç›¸åæ–¹å‘è¿åŠ¨ï¼Œé‚£ä¹ˆå¹¶ä¸ä¼šå¯¹å¯¹æ–¹äº§ç”Ÿå½±å“ã€‚æ‰€ä»¥è¡Œäººä¸è¡Œäººä¹‹é—´çš„ç›¸äº’ä½œç”¨å¹¶ä¸å±€é™äºç›¸å¯¹è·ç¦»ï¼Œä¸é€Ÿåº¦ï¼Œç›®çš„åœ°ç­‰éƒ½æœ‰å…³ç³»ã€‚</li>
<li>è¿™ç¯‡æ–‡ç« æå‡ºåˆ©ç”¨RNNå»ºæ¨¡crowdåœºæ™¯ä¸­å¤šäººçš„è½¨è¿¹çŠ¶æ€ï¼ŒåŒæ—¶è€ƒè™‘æ—¶ç©ºçº¿ç´¢ã€‚ human-humanä¹‹é—´äº¤äº’é€šè¿‡soft attentionæ–¹å¼å»ºæ¨¡ï¼Œè€Œä¸ä»…ä»…è€ƒè™‘å±€éƒ¨é‚»åŸŸç›®æ ‡ã€‚</li>
</ol>
<h4 id="é—®é¢˜å®šä¹‰"><a href="#é—®é¢˜å®šä¹‰" class="headerlink" title="é—®é¢˜å®šä¹‰"></a>é—®é¢˜å®šä¹‰</h4><p>å‡è®¾æ¯ä¸€å¸§å›¾åƒä¸Šç›®æ ‡éƒ½å¯ä»¥æ£€æµ‹å’Œè·Ÿè¸ªã€‚å½“ç„¶å…è®¸ç›®æ ‡åœ¨ä»»æ„æ—¶åˆ»è¿›å…¥ã€ç¦»å¼€è§†é‡ã€‚æ—¶åˆ»$t$ çš„agent $i$çš„åæ ‡ä½ç½®è¡¨ç¤ºä¸º$(x_i^t, y_i^t)$, äºæ˜¯é—®é¢˜å¯ä»¥å®šä¹‰ä¸ºï¼š</p>
<p>ç»™å®šæ—¶åˆ»$t=1, \cdots, T_{obs}$ä¸­agentsçš„ä½ç½®åæ ‡$\{(x_i^t, y_i^t)|i=1, 2, \cdots, N\}$, å¸Œæœ›é¢„æµ‹æ¯æ¡è½¨è¿¹çš„æœªæ¥çš„ä½ç½®$\{(\hat{x}_i^t, \hat{y}_i^t)| t=T_{obs+1}, \cdots, T_{pred}\}â€‹$</p>
<h4 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h4><p>æ–‡ç« ä¸»è¦è§£å†³çš„é—®é¢˜ï¼Œæ˜¯é’ˆå¯¹äºå±€éƒ¨é‚»åŸŸå†…ç›®æ ‡ç›¸äº’å½±å“çš„ä¸€ç±»æ–¹æ³•ï¼Œå›ç­”</p>
<blockquote>
<p>Which surrounding agents do humans attend to, while navigating a crowd?</p>
</blockquote>
<p>å°±æ˜¯å¸Œæœ›èƒ½å¤Ÿä»æ•°æ®ä¸­æŠ½å–ç‰¹å¾å¹¶æ¨ç†å‡ºç›®æ ‡ä¹‹é—´ç›¸äº’å½±å“çš„ç¨‹åº¦ã€‚</p>
<h5 id="Spatio-Temporal-Graph-Representation"><a href="#Spatio-Temporal-Graph-Representation" class="headerlink" title="Spatio-Temporal Graph Representation"></a>Spatio-Temporal Graph Representation</h5><p>ä½¿ç”¨æ—¶ç©ºå›¾åˆ»ç”»æ—¶è®¸ä¸­agentsä¹‹é—´çš„å…³ç³»$\mathcal{G}=(\mathcal{V, \varepsilon_S, \varepsilon_T})$, åˆ†åˆ«è¡¨ç¤ºæ‰€æœ‰çš„agentså’Œç©ºåŸŸï¼Œæ—¶åŸŸçš„å…³è”è¾¹é›†åˆï¼Œ å¦‚ä¸‹å›¾æ‰€ç¤º2å¸§ä¹‹é—´çš„st-graph</p>
<p><img src="/2019/07/10/SocialAttention/st_graph example.png" alt></p>
<p>æ—¶åˆ»$t$ä¸­é¡¶ç‚¹$v$å…³è”çš„ç‰¹å¾å‘é‡æ˜¯$x_v^t=(x_v^t, y_v^t)$ï¼Œ é‡Œé¢å¯¹åº”çš„æ˜¯ä¸¤ä¸ªæ–¹å‘çš„åæ ‡å€¼ï¼Œæ³¨æ„ä¸è¦æ··æ·†ã€‚ ç©ºé—´è¾¹$(u, v)\in\varepsilon_s$å…³è”çš„ç‰¹å¾å‘é‡$x_{uv}^t = (x_{uv}^t, y_{uv}^t)$è¡¨ç¤ºå½“å‰æ—¶åˆ»ä»$u$åˆ°$v$çš„çŸ¢é‡ã€‚ç±»ä¼¼çš„ï¼Œæ—¶é—´è¾¹$(u, u)\in \varepsilon_T$å…³è”çš„ç‰¹å¾å‘é‡$x_{uu}^t=(x_{uu}^t, y_{uu}^t)$è¡¨ç¤ºä»$t-1$åˆ°$t$æ—¶åˆ»çš„å‘é‡ï¼Œäºæ˜¯å¾—åˆ°ä¸‹å›¾ï¼š</p>
<p><img src="/2019/07/10/SocialAttention/st.png" alt></p>
<p>æœ€å·¦è¾¹çš„æ˜¯rolled stå›¾ï¼Œ ä¸­é—´æ˜¯å°†å·¦å›¾æŒ‰ç…§æ—¶é—´å±•å¼€çš„å›¾ï¼Œæ¯æ¡è¾¹å’Œé¡¶ç‚¹éƒ½å¯¹åº”å…¶å…³è”çš„ç‰¹å¾å‘é‡ã€‚å³å›¾æ˜¯æ¥ä¸‹æ¥è¦å°†çš„ç½‘ç»œå¾…å­¦ä¹ çš„æƒé‡å‚æ•°ã€‚</p>
<h5 id="Model-Attention"><a href="#Model-Attention" class="headerlink" title="Model Attention"></a>Model Attention</h5><p>æ•´ä¸ªæ¨¡å‹å…±åŒ…å«3ä¸ªéƒ¨åˆ†ï¼šnodeRNNï¼Œ EdgeRNNå’ŒAttention Moduleã€‚å…¶ä¸­Attention Moduleåˆ»ç”»äº†æ¯ä¸ªèŠ‚ç‚¹å…³è”åˆ°çš„æ—¶ç©ºè¾¹çš„å…³ç³»ï¼Œç„¶åå¾—åˆ°ä¸€ä¸ªç»¼åˆçš„æ—¶ç©ºè¾¹ç‰¹å¾ï¼Œè¯¥ç‰¹å¾ä¸èŠ‚ç‚¹çš„ç‰¹å¾èåˆé€å…¥NodeRNNä¸­ä¼°è®¡nodeçš„çŠ¶æ€ã€‚</p>
<p><img src="/2019/07/10/SocialAttention/rnn.png" alt="rnn"></p>
<ul>
<li><p>EdgeRNN</p>
<p>Fig3çš„å·¦å›¾æ‰€ç¤ºï¼Œæ ‡å‡†çš„RNNæ¨¡å‹ï¼Œè¾“å…¥ç‰¹å¾ç»è¿‡ä¸€å®šçš„embedingï¼Œé€å…¥RNNæ¨¡å—ä¸­åˆ»ç”»å½“å‰æ—¶åˆ»çš„ç‰¹å¾ã€‚</p>
<script type="math/tex; mode=display">
e_{uv}^t = \phi(x_{uv}^t; W_{spatial}^e)\\
h_{uv}^t = RNN(h_{uv}^{t-1}, e_{uv}^T; W_{spatial}^r)</script></li>
</ul>
<ul>
<li><p>Attention Module</p>
<p>Fig3çš„ä¸­é—´å›¾æ‰€ç¤ºï¼Œå…¶ç›®çš„æ˜¯æƒ³è·å¾—ä¸è¯¥é¡¶ç‚¹ç›¸å…³è”çš„è¾¹å¯¹äºå½“å‰é¡¶ç‚¹å˜åŒ–çš„å½±å“ã€‚$h_{vv}$ è¡¨ç¤ºè¯¥é¡¶ç‚¹çš„è‡ªç›¸å…³å‘é‡ï¼Œ $h_{v.}$è¡¨ç¤ºè¯¥é¡¶ç‚¹å°„å‡ºå»çš„è¾¹çš„ç‰¹å¾ï¼Œ ç»è¿‡æ ‡å‡†çš„scaled dot product attentionæ–¹æ³•è·å¾—æ¯ä¸ª$h_{vv}, h_{vk}$çš„ç›¸ä¼¼åº¦</p>
<script type="math/tex; mode=display">
score(h_{vv}^t, h_{v.}^t) = \frac{m}{\sqrt{d_e}}<W_1h_{vv}^t, W_2h_{v.}^t></script><p>äºæ˜¯åŠ æƒä¹‹åçš„æ—¶ç©ºè¾¹èµ‹äºˆé¡¶ç‚¹çš„ç‰¹å¾ä¸ºï¼š</p>
<script type="math/tex; mode=display">
H_v^t = \sum_{i=1}^m\frac{\exp{score(h_{vv}^t, h_{v.}^t)}}{\sum\exp{score(h_{vv}^t, h_{v.}^t)}}\cdot h_{vi}^t</script></li>
<li><p>Node RNN</p>
<p>Fig3çš„å³å›¾æ˜¾ç¤ºçš„Node RNNçš„ç»“æ„ï¼Œå…¶ç›¸å¯¹äºæ ‡å‡†çš„RNNåªæ˜¯å°†æ—¶ç©ºè¾¹æä¾›nodeçš„ç‰¹å¾å‘é‡ä¸é¡¶ç‚¹æœ¬èº«çš„ç‰¹å¾å‘é‡è¿›è¡Œäº†embedingï¼Œç„¶åé€åˆ°RNNç»“æ„ä¸­ã€‚</p>
<script type="math/tex; mode=display">
e_v^t= \phi(x_v^t; W_{node}^e)\\
a_v^t = \phi(concat(h_{vv}^t, H_v^t); W_{node}^h)\\
h_v^t = RNN(h_v^{t-1}, concat(e_v^t, a_v^t); W_{node}^r)</script></li>
<li><p>æœ€ç»ˆå¾—åˆ°é¢„ä¼°çš„2dé«˜æ–¯åˆ†å¸ƒå‚æ•°</p>
<script type="math/tex; mode=display">
(\mu_v^{t+1}, \sigma_v^{t+1}, \rho_v^{t+1}) = W_{node}^oh_v^t</script></li>
</ul>
<h5 id="æŸå¤±å‡½æ•°"><a href="#æŸå¤±å‡½æ•°" class="headerlink" title="æŸå¤±å‡½æ•°"></a>æŸå¤±å‡½æ•°</h5><p>è®­ç»ƒçš„è¿‡ç¨‹ä¸­å¸Œæœ›æœ€å¤§åéªŒæ¦‚ç‡ï¼Œ äºæ˜¯æŸå¤±å‡½æ•°é‡‡ç”¨äº¤å‰ç†µæŸå¤±ï¼š</p>
<script type="math/tex; mode=display">
L_v = -\sum_{t=T_{obs+1}}^{T_{pred}}\log(P(x_v^t, y_v^t|\mu_v^{t}, \sigma_v^{t}, \rho_v^{t}))</script><h5 id="æ¨ç†è¿‡ç¨‹"><a href="#æ¨ç†è¿‡ç¨‹" class="headerlink" title="æ¨ç†è¿‡ç¨‹"></a>æ¨ç†è¿‡ç¨‹</h5><p>é¦–å…ˆåˆ©ç”¨è§‚æµ‹åˆ°çš„å‰$T_{obs}$å¸§ç»“æœæ”¾åˆ°ç½‘ç»œä¸­ç„¶åé¢„æµ‹å¾—åˆ°åç»­æ—¶åˆ»çš„é«˜æ–¯åˆ†å¸ƒå‚æ•°ï¼Œ å†ä»è¿™äº›é«˜æ–¯åˆ†å¸ƒä¸­é‡‡æ ·å¾—åˆ°æ¯ä¸€æ—¶åˆ»çš„é¢„æµ‹ä½ç½®ã€‚</p>
<script type="math/tex; mode=display">
(\hat{x}_v^t, \hat{y}_v^t)\sim \mathcal{N}(\mu_v^{t+1}, \sigma_v^{t+1}, \rho_v^{t+1})</script><p>è¿™ä¸ªé‡‡æ ·è¿‡ç¨‹æ˜¯ä¸ç¡®å®šçš„ï¼ŒåªçŸ¥é“æœä»å¯¹åº”çš„é«˜æ–¯åˆ†å¸ƒã€‚åœ¨æœªçŸ¥å‡†ç¡®çš„ä½ç½®æ—¶ï¼Œæ¯”å¦‚$T_{obs}+1$æ—¶åˆ»ï¼Œä½¿ç”¨é¢„æµ‹çš„å€¼ä»£æ›¿çœŸå®çš„ä½ç½®ç»§ç»­è¯„ä¼°åç»­æ—¶åˆ»çš„é«˜æ–¯å‚æ•°ã€‚</p>
<h4 id="è¯„ä¼°"><a href="#è¯„ä¼°" class="headerlink" title="è¯„ä¼°"></a>è¯„ä¼°</h4><ul>
<li><p>æ‰€ä½¿ç”¨çš„æ•°æ®é›† ETH, UCYæ€»å…± 5ä¸ªç»“åˆï¼Œ 1536ä¸ªè¡Œäººï¼Œ å¸§ç‡25FPSï¼Œ æ¯éš”10å¸§æ ‡æ³¨ä¸€æ¬¡ã€‚åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­é€šè¿‡æ’å€¼çš„æ–¹å¼æ˜¯çš„æ¯ä¸€å¸§éƒ½æœ‰å¯¹åº”çš„gtã€‚</p>
</li>
<li><p>è¯„ä¼°æŒ‡æ ‡ã€‚</p>
<ul>
<li>Average Displacement Errorï¼Œ é€ä¸€ç»Ÿè®¡æ¯ä¸€æ—¶åˆ»çš„é¢„æµ‹å€¼å’ŒçœŸå®å€¼çš„åå·®ï¼Œç„¶åè®¡ç®—å‡å€¼ã€‚</li>
<li>Final Displacement Errorï¼Œ åªè®¡ç®—$T_{pred}$ä¹‹åçš„é¢„æµ‹ä½ç½®å’ŒçœŸå®ä½ç½®çš„åå·®å‡å€¼ã€‚</li>
</ul>
</li>
<li><p>æ“ä½œç»†èŠ‚</p>
<p>nodeRNNçš„éšçŠ¶æ€é•¿åº¦128ï¼Œ edgeRNNéšçŠ¶æ€é•¿åº¦256ï¼Œ embeddingå±‚çš„é•¿åº¦64ï¼Œ æ¿€æ´»å‡½æ•°ReLUã€‚ batchsize=8ï¼Œ lr=0.001ï¼Œ è®­ç»ƒäº†100ä¸ªepochã€‚</p>
<p>ä»£ç ï¼š githubï¼š<a href="https://github.com/BenJamesbabala/srnn-pytorch" target="_blank" rel="noopener">srnn-pytorch</a> </p>
</li>
<li><p>å®šé‡çš„å®éªŒç»“æœ</p>
<p><img src="/2019/07/10/SocialAttention/tables.png" alt="tables"></p>
</li>
<li><p>å®šæ€§åˆ†æ</p>
<p><img src="/2019/07/10/SocialAttention/attention.png" alt="attention"></p>
<p>è®ºæ–‡ç»™å‡ºäº†ä¸€äº›attentionçš„ç¤ºä¾‹ï¼Œ ä¸Šå›¾ä¸­åœˆçš„å¤§å°è¡¨ç¤ºäº†ç›¸å¯¹attentionæƒé‡çš„å¤§å°ï¼Œ è“è‰²é¡¶ç‚¹è¡¨ç¤ºå½“å‰æ—¶åˆ»çš„æ¯æ¡è½¨è¿¹çš„ä½ç½®ï¼Œ çº¢è‰²çš„è½¨è¿¹æ˜¯ä¸»ä½“è½¨è¿¹ï¼Œ abcå›¾æ˜¯æˆåŠŸçš„æ¡ˆä¾‹ï¼Œ defåˆ™å­˜åœ¨ç€ä¸€äº›é—®é¢˜éœ€è¦åœ¨æœªæ¥å·¥ä½œä¸­è§£å†³ã€‚dä¸­æ·±ç»¿è‰²çš„è½¨è¿¹è·ç¦»è¾ƒè¿œä¸”é€Ÿåº¦æ–¹å‘ä¸åŒä½†æƒé‡å´æŒºå¤§ã€‚åŒæ ·çš„eä¸­æµ…ç»¿è‰²çš„è½¨è¿¹ï¼Œ fä¸­æ›´æ˜æ˜¾ï¼Œå‡ ä¹é™æ­¢çš„è¿åŠ¨åæ–¹å‘ç‚¹å´å¯¹è½¨è¿¹é¢„æµ‹å½±å“å¾ˆå¤§ï¼Œè¿™äº›é—®é¢˜éƒ½éœ€è¦è¿›ä¸€æ­¥è§£å†³ã€‚</p>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><blockquote>
<p>In this work, we have presented an attention-based trajectory prediction model, Social Attention, that learns the relative influence of each pedestrian in the crowd on the planing behavior of the other, and accurately predicts their future trajectories.  We use an RNN mixture to model both the temporal and spatial dynamics of trajectories in human crowds. The resulting model is feedforward, fully-differentiable, and is jointly trained to capture human-human interactions between pedestrians.</p>
</blockquote>
</li>
</ul>
    </div>
  </div>
  
    <div class="copy-right">
      <div class="markdown-body">
        <blockquote>
        
        
          æœ¬æ–‡ä½œè€… : zhouzongwei <br>
        
        åŸæ–‡é“¾æ¥ : <a href>http://yoursite.com/2019/07/10/SocialAttention/</a><br>
        ç‰ˆæƒå£°æ˜ : æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
        </blockquote>
      </div>
    </div>
  
  
  
    <div class="social-share" style="margin-top: -2rem" data-wechat-qrcode-title="<p>å¾®ä¿¡æ‰«ä¸€æ‰«</p>" data-wechat-qrcode-helper="<p>å¾®ä¿¡å³ä¸Šè§’, æ‰«ä¸€æ‰«åˆ†äº«</p>" data-sites="qzone, qq, weibo, wechat, douban, google, facebook, twitter">
  <span style="color: #6b7487; font-size: 1.4rem;">åˆ†äº«åˆ°: </span>
</div>
<script src="https://cdn.bootcss.com/social-share.js/1.0.16/js/social-share.min.js" async></script>
  

  
    <div id="reward">
  
    <p id="reward-meta">çŸ¥è¯† & æƒ…æ€€ | èµæˆ–è€…ä¸èµï¼Œæˆ‘éƒ½åœ¨è¿™ï¼Œä¸å£°ä¸å“</p>
  
  <button id="reward-btn">
    
    <span>æ‰“èµ</span>
  </button>
  <div id="reward-qrcode">
    
      <div class="reward-qrcode--container">
        <img class="qrcode-img" src="/images/wechatimg.jpg" alt="å¾®ä¿¡æ‰«ä¸€æ‰«, ä»¥èµ„é¼“åŠ±">
        <p class="qrcode-meta">å¾®ä¿¡æ‰«ä¸€æ‰«, ä»¥èµ„é¼“åŠ±</p>
      </div>
    
      <div class="reward-qrcode--container">
        <img class="qrcode-img" src="/images/alipayimg.jpg" alt="æ”¯ä»˜å®æ‰«ä¸€æ‰«, å†æ¥å†å‰">
        <p class="qrcode-meta">æ”¯ä»˜å®æ‰«ä¸€æ‰«, å†æ¥å†å‰</p>
      </div>
    
  </div>

</div>

<script>
  (() => {
    let button = document.querySelector('#reward-btn'),
      qrcode = document.querySelector('#reward-qrcode'),
      display = false;
    
    button.addEventListener('click', () => {
      qrcode.style.display = display ? 'none' : 'block'
      display = !display
    }, false)
  })()
</script>
  

  <div class="article-footer">
    <div class="article-meta pull-left">
      <span>
        
          <i class="iconfont icon-06tags"></i>æ ‡ç­¾: 
          
          <span class="span--tag">
            <a href="/tags/ST-Graph/">
              #ST-Graph
            </a>
          </span>
          
          <span class="span--tag">
            <a href="/tags/Attention/">
              #Attention
            </a>
          </span>
          
          <span class="span--tag">
            <a href="/tags/trajectory-prediction/">
              #trajectory prediction
            </a>
          </span>
          
        
      </span>
    </div>
    <div class="article-meta pull-right">
    </div>
  </div>
</div>


  <aside id="sidebar">
    <p id="sidebar-header"></p>
    <ol id="sidebar-toc"></ol>
  </aside>
  <script async>setTimeout(generateToc, 10);</script>


  <nav class="post-navigation">
    
      <div class="nav-pre">
        <i class="iconfont icon-prev"></i>
        ä¸Šä¸€ç¯‡:
        <a href="/2019/06/27/pytorch-notes/" target="_self">pytorch_notes</a>
      </div>
    
    
      <div class="nav-next">
        ä¸‹ä¸€ç¯‡:
        <a href="/2019/07/26/swig-python/" target="_self">å·¥å…·ä½¿ç”¨-[linux] swigå®ç°c++çš„pythonåŒ…è£…</a>
        <i class="iconfont icon-next"></i>
      </div>
    
  </nav>

  
    <a href="#comment" class="comment-anchor"></a>
<div class="comment-title"><i class="iconfont icon-footprint"></i> ç•™ä¸‹è¶³è¿¹ <i class="iconfont icon-footprint"></i></div>
<div id="vcomments"></div>

<script defer>
  if( true ) {
    let path = getRealPath()
    new Valine({
      el: "#vcomments",
      appId: "oGELcUvlMiFClUUpxn7V3qUo-gzGzoHsz",
      appKey: "fWABYGLTAoV1LT4LYzh1PNmQ",
      notify: false,
      verify: false,
      avatar: "robohash",
      placeholder: "æ­£ç¡®å¡«å†™é‚®ç®±, æ‰èƒ½åŠæ—¶æ”¶åˆ°å›å¤å“¦â™ª(^âˆ‡^*)",
      path
    });
  }
</script>
   

  
    <script defer>
const valineAPI = (() => {
  try {
    AV.init("oGELcUvlMiFClUUpxn7V3qUo-gzGzoHsz", "fWABYGLTAoV1LT4LYzh1PNmQ");
  } catch(error) {}
  const isExist = (identity) => {
    identity = identity || getRealPath();
    let query = new AV.Query('Timer');
    return new Promise((resolve, reject) => {
      query.equalTo("identity", identity);
      query.find().then(results => {
        resolve(results.length > 0);
      }, error => reject(error));
    })
  }

  const _get = (identity) => {
    let query = null;
    if(identity && identity instanceof Array){
      let querys = [];
      for(let i = 0; i < identity.length; ++i) {
        querys[i] = new AV.Query('Timer');
        querys[i].equalTo('identity', identity[i]);
      }
      query = AV.Query.or.apply(null ,querys);
    } else {
      identity = identity || getRealPath();
      query = new AV.Query("Timer");
      query.equalTo("identity", identity);
    }

    return new Promise((resolve, reject) => {
      query.find()
      .then(results => resolve(results))
      .catch(error => reject(error))
    })
  }

  const create = (identity) => {
    identity = identity || getRealPath();
    return new Promise((resolve, reject) => {
      let Todo = AV.Object.extend('Timer');
      let todo = new Todo();
      todo.set("times", 1);
      todo.set("identity", identity);
      todo.save().then(res => resolve(true), error => reject(error));
    })
  }

  const update = (identity) => {
    identity = identity || getRealPath();
    return new Promise((resolve, reject) => {
      let query = new AV.Query('Timer');
      query.equalTo("identity", identity);
      query.find().then(todos => {
        todos.forEach(todo => {
          todo.set("times", todo.attributes.times + 1);
        });
        return AV.Object.saveAll(todos);
      }).then(todos => resolve(true), error => reject(error));
    })
  }

  return {
    isExist,
    _get,
    update,
    create
  }
})()

const calcAndWriteTimes = () => {
  let isPost = true;

  let timerAllDOM = document.querySelectorAll(".article-timer");

  if(isPost) {
    let identity = timerAllDOM[0].getAttribute("data-identity");
    valineAPI.isExist(identity)
    .then(exist => {
      if(exist) {
        return valineAPI.update(identity);
      }
      return new Promise(resolve => resolve(true));
    })
    .then( succuess => valineAPI._get(identity))
    .then( result => timerAllDOM[0].innerText = result[0].attributes.times)
    .catch(error => console.log(error.message))
    return ;
  }

  let timerDOMCache = {};

  for(let timerDOM of timerAllDOM) {
    let identity = timerDOM.getAttribute("data-identity");
    if(timerDOMCache.hasOwnProperty(identity)){
      timerDOMCache[identity].dom.push(timerDOM);
    }else{
      timerDOMCache[identity] = {
        dom: [timerDOM],
        times: undefined
      };
    }
  }

  let identities = Object.keys(timerDOMCache);
  valineAPI._get(identities).then(results => {
    for(let result of results) {
      let {identity, times} = result.attributes;
      timerDOMCache[identity].times = times;
      timerDOMCache[identity].dom.map(item => item.innerText = times);
    }
    for(let identity of identities) {
      if(timerDOMCache[identity].times){
        continue;
      }
      timerDOMCache[identity].dom.map(item => item.innerText = 1);
      valineAPI.create(identity);
    }
  }).catch(error => console.log(error.message))
}

if(true){
  calcAndWriteTimes();
}
</script>
   

</div>


      <footer>
  <p class="site-info">
    åšå®¢å·²èŒèŒå“’è¿è¡Œ<span id="time-to-now"></span><span class="my-face">(â—'â—¡'â—)ï¾‰â™¥</span>
    <br>
    Theme - <a href="https://github.com/dongyuanxin/theme-bmw">BMW</a> | Made With ğŸ’— | Powered by <a href="https://godbmw.com/">GodBMW</a>
    <br>
    
  </p>
</footer>



<script>
const timeToNowDOM = document.querySelector("#time-to-now");
const startTimestamp = new Date(2018, 1, 10).getTime();

const updateTimeStr = () => {
  let offset = parseInt(
      (new Date().getTime() - startTimestamp) / 1000,
      10
    ),
    day = Math.floor(offset / 86400),
    hour = Math.floor((offset % 86400) / 3600),
    minute = Math.floor(((offset % 86400) % 3600) / 60),
    second = Math.floor(((offset % 86400) % 3600) % 60);
  timeToNowDOM.innerHTML =
    day + "å¤©" + hour + "å°æ—¶" + minute + "åˆ†é’Ÿ" + second + "ç§’";
  setTimeout(updateTimeStr, 500);
}

setTimeout(updateTimeStr, 500);
</script>


      <div class="back-to-top hidden">
  <span>
    <i class="iconfont icon-60"></i><span></span>%
  </span>
</div>

<script>
const updateIconToTop = percent => {
  let dom = document.querySelector(".back-to-top span span");
  dom.innerText = percent;
  if(percent < 1) {
    document.querySelector(".back-to-top").className = "back-to-top hidden";
  } else {
    document.querySelector(".back-to-top").className = "back-to-top";
  }
}

const handleScoll = () => {
  let isRunning = false;
  return () => {
    if (isRunning) return;
    isRunning = true;
    window.requestAnimationFrame(timestamp => {
      let scrollTop =
          document.documentElement.scrollTop || document.body.scrollTop,
        scrollHeight =
          document.documentElement.scrollHeight ||
          document.body.scrollHeight,
        clientHeight =
          document.documentElement.clientHeight ||
          document.body.clientHeight;
      isRunning = false;
      if (scrollTop <= 1) {
        updateIconToTop(0);
        return;
      }
      if (scrollTop + clientHeight >= scrollHeight) {
        updateIconToTop(100);
      } else {
        updateIconToTop(parseInt(
          100 * scrollTop / (scrollHeight - clientHeight),
          10
        ));
      }
    });
  };
}

const backToTop = () => {
  let scrollTop =
      document.documentElement.scrollTop || document.body.scrollTop,
    delay = 10,
    time = 200;
  if (scrollTop <= 20) {
    document.documentElement.scrollTop = 0;
    document.body.scrollTop = 0;
    return;
  }
  let step = Math.ceil(scrollTop * delay / time);
  let timer = setInterval(() => {
    scrollTop =
      document.documentElement.scrollTop || document.body.scrollTop;
    if (scrollTop - step <= 0) {
      document.documentElement.scrollTop = 0;
      document.body.scrollTop = 0;
      clearInterval(timer);
    } else {
      document.documentElement.scrollTop = scrollTop - step;
      document.body.scrollTop = scrollTop - step;
    }
  }, delay);
}

document.addEventListener("scroll", handleScoll(), false);

document.querySelector(".back-to-top").addEventListener("click", backToTop, false);

</script>

    </div>

    
      <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
<script>
  (() => {
    const mathjaxConfig = {
      showProcessingMessages: false, //å…³é—­jsåŠ è½½è¿‡ç¨‹ä¿¡æ¯
      messageStyle: "none", //ä¸æ˜¾ç¤ºä¿¡æ¯
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
        inlineMath: [["$", "$"], ["\\(", "\\)"]], //è¡Œå†…å…¬å¼é€‰æ‹©ç¬¦
        displayMath: [["$$", "$$"], ["\\[", "\\]"]], //æ®µå†…å…¬å¼é€‰æ‹©ç¬¦
        skipTags: ["script", "noscript", "style", "textarea", "pre", "code", "a"] //é¿å¼€æŸäº›æ ‡ç­¾
      },
      "HTML-CSS": {
        availableFonts: ["STIX", "TeX"], //å¯é€‰å­—ä½“
        showMathMenu: false //å…³é—­å³å‡»èœå•æ˜¾ç¤º
      }
    }

    let mathjaxInterval = setInterval(() => {
      if(!window.MathJax){
        return;
      }
      window.MathJax.Hub.Config(mathjaxConfig)
      window.MathJax.Hub.Queue(["Typeset", MathJax.Hub, document.getElementById('app')])

      clearInterval(mathjaxInterval)
    }, 10)    
  })()
</script>
    

    <script src="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script>
<script async>
  let fancyTimer = setInterval(function(){
    if(!window.$){
      return;
    }
    $(document).ready(function() {
      $(".post img").each(function () {
        if($(this).parent().get(0).tagName.toLowerCase() === "a") {
          return;
        }
        // $(this).attr("data-fancybox", "gallery"); // if you add 'data-fancybox', img will display after showed
        var element = document.createElement("a");
        $(element).attr("data-fancybox", "gallery");
        $(element).attr("href", $(this).attr("src"));
        $(this).wrap(element);
      });
      
      clearInterval(fancyTimer);
    });
  }, 10);
</script>

    
  </body>

</html>
